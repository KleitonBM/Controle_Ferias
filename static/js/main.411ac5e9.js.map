{"version":3,"file":"static/js/main.411ac5e9.js","mappings":"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","sources":["lib/supabase.js","screen/Home.tsx","screen/AgendamentoFeriasScreen.tsx","screen/EdicaoFeriasScreen.js","screen/Funcionarios.tsx","screen/VisaoMensalScreen.tsx","App.js","index.js","webpack/bootstrap","webpack/runtime/chunk loaded","webpack/runtime/compat get default export","webpack/runtime/define property getters","webpack/runtime/global","webpack/runtime/hasOwnProperty shorthand","webpack/runtime/make namespace object","webpack/runtime/jsonp chunk loading","webpack/startup"],"sourcesContent":["// lib/supabase.js\r\nimport { createClient } from '@supabase/supabase-js';\r\nimport AsyncStorage from '@react-native-async-storage/async-storage';\r\n\r\nconst supabaseUrl = 'https://duiryivmrectprzdjpfl.supabase.co';\r\nconst supabaseAnonKey = 'sb_publishable_QnHG86oGJX4MKNYqspyHGw_YLXrylg3';\r\n\r\nexport const supabase = createClient(supabaseUrl, supabaseAnonKey, {\r\n  auth: {\r\n    storage: AsyncStorage,\r\n    autoRefreshToken: true,\r\n    persistSession: true,\r\n    detectSessionInUrl: false,\r\n  },\r\n});","import React, { useState, useRef, useMemo } from 'react';\r\nimport {\r\n    SafeAreaView, View, Text, TextInput, TouchableOpacity,\r\n    FlatList, ScrollView, StyleSheet, Modal, Switch\r\n} from 'react-native';\r\n\r\nconst COLORS = {\r\n    BG: '#f4f7f6', HEADER: '#f8f8f8', LINE: '#eeeeee',\r\n    TEXT: '#333', MUTED: '#666', HOJE: '#dcebff',\r\n    VACATION: '#ff5c8a', WORK: '#e3f2fd', OFF: '#f5f5f5',  \r\n    PRIMARY: '#4a61dd', SAVE: '#4CAF50', VIEW: '#00c7b7', DELETE: '#E53935',\r\n    ABONO: '#673AB7', CARD_BG: '#ffffff',\r\n    FERISTA_WORK: '#555555', // Cor para os dias de \"ponte/transio\"\r\n    FERISTA_OFF: '#ffffff'\r\n};\r\n\r\nconst DAY_WIDTH = 50; \r\nconst ROW_HEIGHT = 60; \r\n\r\nconst ANCHORS = {\r\n    'A': new Date(2025, 11, 27),\r\n    'B': new Date(2025, 11, 29),\r\n    'C': new Date(2025, 11, 31),\r\n    'D': new Date(2026, 0, 2)\r\n};\r\n\r\nconst MONTHS = [\"Janeiro\", \"Fevereiro\", \"Maro\", \"Abril\", \"Maio\", \"Junho\", \"Julho\", \"Agosto\", \"Setembro\", \"Outubro\", \"Novembro\", \"Dezembro\"];\r\nconst YEARS = [2024, 2025, 2026, 2027, 2028, 2029, 2030];\r\n\r\nfunction parseSafeDate(dateVal) {\r\n    if (!dateVal) return null;\r\n    let d;\r\n    if (typeof dateVal === 'string') {\r\n        const cleanDate = dateVal.substring(0, 10);\r\n        if (cleanDate.includes('-')) {\r\n            const [y, m, d_] = cleanDate.split('-').map(Number);\r\n            d = new Date(y, m - 1, d_);\r\n        } else if (cleanDate.includes('/')) {\r\n            const [d_, m, y] = cleanDate.split('/').map(Number);\r\n            d = new Date(y, m - 1, d_);\r\n        }\r\n    } else { d = new Date(dateVal); }\r\n    if (!d || isNaN(d.getTime())) return null;\r\n    d.setHours(0,0,0,0);\r\n    return d;\r\n}\r\n\r\nconst formatDateKey = (date) => {\r\n    try { return date.toISOString().split('T')[0]; } catch (e) { return ''; }\r\n};\r\n\r\nexport default function HomeScreen({ \r\n    employees, schedules, feristaData = {}, \r\n    onOpenRegister, onOpenMonthly, onOpenSchedule, onDeleteSchedules \r\n}) {\r\n    const [search, setSearch] = useState('');\r\n    const [currentDate, setCurrentDate] = useState(new Date());\r\n    const [showMonthPicker, setShowMonthPicker] = useState(false);\r\n    const [showYearPicker, setShowYearPicker] = useState(false);\r\n    const [editingSchedule, setEditingSchedule] = useState(null); \r\n    const [showConfirmDelete, setShowConfirmDelete] = useState(false); \r\n    const [isTimelineView, setIsTimelineView] = useState(true); \r\n\r\n    const headerScrollRef = useRef(null);\r\n    const gridScrollRef = useRef(null);\r\n\r\n    // --- OTIMIZAO: MAPA DE COBERTURA ---\r\n    // Cria um mapa rpido para saber quem est de frias em qual dia\r\n    // Ex: { '2026-06-25': 'B', '2026-06-26': 'B' }\r\n    const coverageMap = useMemo(() => {\r\n        const map = {};\r\n        (schedules || []).forEach(sch => {\r\n            const start = parseSafeDate(sch.startDate);\r\n            const end = parseSafeDate(sch.endDate);\r\n            const emp = employees.find(e => e.id === sch.employeeId);\r\n            \r\n            if (start && end && emp && emp.letra !== 'Ferista') {\r\n                let curr = new Date(start);\r\n                while (curr <= end) {\r\n                    const k = formatDateKey(curr);\r\n                    map[k] = emp.letra; // Guarda a letra de quem est de frias\r\n                    curr.setDate(curr.getDate() + 1);\r\n                }\r\n            }\r\n        });\r\n        return map;\r\n    }, [schedules, employees]);\r\n\r\n    const getEmployeeData = (empId) => {\r\n        return (employees || []).find(e => e.id === empId) || { letra: 'A', status: true };\r\n    };\r\n\r\n    const getStatusEDatas = (startDateStr, durationDays, empId) => {\r\n        const start = parseSafeDate(startDateStr);\r\n        if (!start) return { saida: '--', retorno: '--', fim: '--' };\r\n        const emp = getEmployeeData(empId);\r\n        \r\n        // Usa a funo auxiliar de clculo de escala\r\n        const getDayType = (date) => {\r\n            const style = calculateStandardScaleColor(date, emp.letra);\r\n            return style.backgroundColor === COLORS.MUTED ? 'TRABALHO' : 'FOLGA';\r\n        };\r\n\r\n        let saida = new Date(start);\r\n        saida.setDate(saida.getDate() - 1);\r\n        while (getDayType(saida) === 'FOLGA') saida.setDate(saida.getDate() - 1);\r\n        saida.setDate(saida.getDate() + 1);\r\n\r\n        const fim = new Date(start);\r\n        fim.setDate(fim.getDate() + (parseInt(durationDays) - 1));\r\n        let retorno = new Date(fim);\r\n        retorno.setDate(retorno.getDate() + 1);\r\n        while (getDayType(retorno) === 'FOLGA') retorno.setDate(retorno.getDate() + 1);\r\n\r\n        const fmt = (date) => `${String(date.getDate()).padStart(2, '0')}/${String(date.getMonth() + 1).padStart(2, '0')}/${date.getFullYear()}`;\r\n        return { saida: fmt(saida), retorno: fmt(retorno), fim: fmt(fim) };\r\n    };\r\n\r\n    // Funo auxiliar pura para calcular a cor 4x4 baseada na letra\r\n    const calculateStandardScaleColor = (targetDate, letra) => {\r\n        const anchor = ANCHORS[letra] || ANCHORS['A'];\r\n        const diffTime = targetDate.getTime() - anchor.getTime();\r\n        const diffDays = Math.floor(diffTime / (1000 * 60 * 60 * 24));\r\n        const cycleDay = ((diffDays % 8) + 8) % 8;\r\n        return { backgroundColor: cycleDay < 4 ? COLORS.MUTED : COLORS.OFF };\r\n    };\r\n\r\n    // --- NOVA LGICA DE ESTILO DA CLULA ---\r\n    const getScaleStyle = (targetDate, emp) => {\r\n        // 1. SE FOR FERISTA\r\n        if (emp.letra === 'Ferista' || (emp.nome && emp.nome.toUpperCase().includes('FERISTA'))) {\r\n            const dateKey = formatDateKey(targetDate);\r\n            \r\n            // A. Verifica se ele est cobrindo algum (Prioridade Alta)\r\n            // Se tem algum de frias neste dia, o Ferista ASSUME A ESCALA dessa pessoa\r\n            const letraCoberta = coverageMap[dateKey];\r\n            if (letraCoberta) {\r\n                return calculateStandardScaleColor(targetDate, letraCoberta);\r\n            }\r\n\r\n            // B. Verifica se  dia de Transio (Gap entre frias)\r\n            const feristaInfo = feristaData ? feristaData[dateKey] : null;\r\n            if (feristaInfo) {\r\n                if (feristaInfo.tipo === 'TRABALHO') return { backgroundColor: COLORS.FERISTA_WORK };\r\n                if (feristaInfo.tipo === 'FOLGA') return { backgroundColor: COLORS.FERISTA_OFF };\r\n            }\r\n\r\n            // C. Padro (Sem cobertura, sem transio)\r\n            return { backgroundColor: COLORS.OFF };\r\n        }\r\n\r\n        // 2. SE FOR FUNCIONRIO NORMAL\r\n        return calculateStandardScaleColor(targetDate, emp.letra || 'A');\r\n    };\r\n\r\n    const changeMonth = (delta) => {\r\n        setCurrentDate(new Date(currentDate.getFullYear(), currentDate.getMonth() + delta, 1));\r\n    };\r\n\r\n    const timelineDays = Array.from({ length: 42 }, (_, i) => {\r\n        const d = new Date(currentDate.getFullYear(), currentDate.getMonth(), 1);\r\n        d.setDate(d.getDate() + i);\r\n        return d;\r\n    });\r\n\r\n    const filteredSchedules = (schedules || []).filter(s => {\r\n        const emp = getEmployeeData(s.employeeId);\r\n        if (emp.status === false) return false;\r\n        const matchesSearch = s.employeeName?.toLowerCase().includes(search.toLowerCase());\r\n        const dS = parseSafeDate(s.startDate);\r\n        const matchesDate = dS && (dS.getMonth() === currentDate.getMonth() || dS.getMonth() === currentDate.getMonth() + 1);\r\n        return matchesSearch && matchesDate;\r\n    });\r\n\r\n    const employeesFiltered = (employees || []).filter(e => \r\n        e.status === true && e.nome?.toLowerCase().includes(search.toLowerCase())\r\n    );\r\n\r\n    const handleGridScroll = (event) => {\r\n        const x = event.nativeEvent.contentOffset.x;\r\n        if (headerScrollRef.current) {\r\n            headerScrollRef.current.scrollTo({ x, animated: false });\r\n        }\r\n    };\r\n\r\n    return (\r\n        <SafeAreaView style={styles.container}>\r\n            {/* --- MODAIS IGUAIS --- */}\r\n            <Modal visible={showMonthPicker || showYearPicker} transparent animationType=\"fade\">\r\n                <TouchableOpacity style={styles.modalOverlay} onPress={() => {setShowMonthPicker(false); setShowYearPicker(false);}}>\r\n                    <View style={styles.modalContent}>\r\n                        {(showMonthPicker ? MONTHS : YEARS).map((item, i) => (\r\n                            <TouchableOpacity key={item} style={styles.modalItem} onPress={() => {\r\n                                if (showMonthPicker) setCurrentDate(new Date(currentDate.getFullYear(), i, 1));\r\n                                else setCurrentDate(new Date(item, currentDate.getMonth(), 1));\r\n                                setShowMonthPicker(false); setShowYearPicker(false);\r\n                            }}>\r\n                                <Text style={styles.modalText}>{item}</Text>\r\n                            </TouchableOpacity>\r\n                        ))}\r\n                    </View>\r\n                </TouchableOpacity>\r\n            </Modal>\r\n            <Modal visible={!!editingSchedule && !showConfirmDelete} transparent animationType=\"slide\">\r\n                <TouchableOpacity style={styles.modalOverlay} onPress={() => setEditingSchedule(null)}>\r\n                    <View style={styles.editModalContent}>\r\n                        <Text style={styles.editModalTitle}>Opes do Agendamento</Text>\r\n                        {editingSchedule && (\r\n                            <View style={styles.infoRowModal}>\r\n                                {(() => {\r\n                                    const info = getStatusEDatas(editingSchedule.startDate, editingSchedule.durationDays, editingSchedule.employeeId);\r\n                                    return (\r\n                                        <>\r\n                                            <View style={styles.detailBox}><Text style={[styles.infoLabel, {color: COLORS.PRIMARY}]}>SADA</Text><Text style={styles.infoValue}>{info.saida}</Text></View>\r\n                                            <View style={styles.detailDivider} />\r\n                                            <View style={styles.detailRow}>\r\n                                                <View style={styles.detailItem}><Text style={styles.infoLabel}>INCIO</Text><Text style={styles.infoValue}>{editingSchedule.startDate}</Text></View>\r\n                                                <View style={styles.detailItem}><Text style={styles.infoLabel}>RETORNO</Text><Text style={[styles.infoValue, {color: COLORS.SAVE}]}>{info.retorno}</Text></View>\r\n                                            </View>\r\n                                        </>\r\n                                    );\r\n                                })()}\r\n                            </View>\r\n                        )}\r\n                        <TouchableOpacity style={[styles.editBtn, {backgroundColor: '#FF9800', marginBottom: 10}]} onPress={() => { const data = editingSchedule; setEditingSchedule(null); onOpenSchedule(data); }}><Text style={styles.btnT}>EDITAR</Text></TouchableOpacity>\r\n                        <TouchableOpacity style={[styles.editBtn, {backgroundColor: COLORS.DELETE}]} onPress={() => setShowConfirmDelete(true)}><Text style={styles.btnT}>EXCLUIR</Text></TouchableOpacity>\r\n                    </View>\r\n                </TouchableOpacity>\r\n            </Modal>\r\n            <Modal visible={showConfirmDelete} transparent animationType=\"fade\">\r\n                <View style={styles.modalOverlay}>\r\n                    <View style={styles.confirmBox}>\r\n                        <Text style={styles.confirmTitle}>Confirmar Excluso?</Text>\r\n                        <View style={styles.confirmActions}>\r\n                            <TouchableOpacity style={[styles.confirmBtn, {backgroundColor: COLORS.LINE}]} onPress={() => setShowConfirmDelete(false)}><Text>NO</Text></TouchableOpacity>\r\n                            <TouchableOpacity style={[styles.confirmBtn, {backgroundColor: COLORS.DELETE}]} onPress={async () => { if (onDeleteSchedules && editingSchedule) { await onDeleteSchedules([editingSchedule.id]); } setShowConfirmDelete(false); setEditingSchedule(null); }}><Text style={styles.btnT}>SIM, EXCLUIR</Text></TouchableOpacity>\r\n                        </View>\r\n                    </View>\r\n                </View>\r\n            </Modal>\r\n\r\n            {/* --- HEADER --- */}\r\n            <View style={styles.mainHeader}>\r\n                <View>\r\n                    <Text style={styles.mainTitle}>Equipe Turno</Text>\r\n                    <Text style={styles.mainSub}>{MONTHS[currentDate.getMonth()]} de {currentDate.getFullYear()}</Text>\r\n                </View>\r\n                <Switch value={isTimelineView} onValueChange={setIsTimelineView} trackColor={{ false: \"#ddd\", true: COLORS.PRIMARY }} />\r\n            </View>\r\n\r\n            <View style={styles.topBar}>\r\n                <View style={styles.navRow}>\r\n                    <TouchableOpacity style={styles.arrowBtn} onPress={() => changeMonth(-1)}><Text style={styles.arrowText}></Text></TouchableOpacity>\r\n                    <TouchableOpacity style={styles.dateDisplay} onPress={() => setShowMonthPicker(true)}><Text style={styles.dateDisplayText}>{MONTHS[currentDate.getMonth()]}</Text></TouchableOpacity>\r\n                    <TouchableOpacity style={styles.dateDisplay} onPress={() => setShowYearPicker(true)}><Text style={styles.dateDisplayText}>{currentDate.getFullYear()}</Text></TouchableOpacity>\r\n                    <TouchableOpacity style={styles.arrowBtn} onPress={() => changeMonth(1)}><Text style={styles.arrowText}></Text></TouchableOpacity>\r\n                </View>\r\n                <TextInput placeholder=\"Buscar Balanceiro...\" style={styles.input} onChangeText={setSearch} value={search} />\r\n            </View>\r\n\r\n            <View style={{ flex: 1 }}> \r\n                {isTimelineView ? (\r\n                    <>\r\n                        <View style={styles.stickyHeaderContainer}>\r\n                            <View style={styles.namesHeaderCorner}><Text style={{fontSize: 10, color: COLORS.MUTED, fontWeight: 'bold'}}>BALANCEIROS</Text></View>\r\n                            <ScrollView horizontal ref={headerScrollRef} scrollEnabled={false} showsHorizontalScrollIndicator={false} style={styles.headerScroll}>\r\n                                <View style={styles.daysHeader}>\r\n                                    {timelineDays.map(d => (\r\n                                        <View key={d.getTime()} style={styles.dayBox}>\r\n                                            <Text style={styles.dayLabel}>{String(d.getDate()).padStart(2, '0')}/{String(d.getMonth() + 1).padStart(2, '0')}</Text>\r\n                                        </View>\r\n                                    ))}\r\n                                </View>\r\n                            </ScrollView>\r\n                        </View>\r\n                        <ScrollView style={{flex: 1}} contentContainerStyle={{flexGrow: 1}}>\r\n                            <View style={styles.mainTimelineContainer}>\r\n                                <View style={styles.namesColumn}>\r\n                                    {employeesFiltered.map(item => (\r\n                                        <View key={item.id} style={styles.nameRow}>\r\n                                            <Text style={styles.nameText} numberOfLines={1}>{item.nome}</Text>\r\n                                            <Text style={{fontSize: 8, color: COLORS.PRIMARY}}>{item.letra === 'Ferista' ? 'FERISTA' : `Letra ${item.letra}`}</Text>\r\n                                        </View>\r\n                                    ))}\r\n                                </View>\r\n                                <ScrollView horizontal ref={gridScrollRef} style={styles.gridScroll} onScroll={handleGridScroll} scrollEventThrottle={16}>\r\n                                    <View>\r\n                                        {employeesFiltered.map(emp => (\r\n                                            <View key={emp.id} style={styles.row}>\r\n                                                {timelineDays.map(d => <View key={d.getTime()} style={[styles.cell, getScaleStyle(d, emp)]} />)}\r\n                                                {(schedules || []).filter(s => s.employeeId === emp.id).map(sch => {\r\n                                                    const start = parseSafeDate(sch.startDate); const end = parseSafeDate(sch.endDate);\r\n                                                    if (!start || !end) return null;\r\n                                                    let startIdx = timelineDays.findIndex(d => d.getTime() === start.getTime());\r\n                                                    let endIdx = timelineDays.findIndex(d => d.getTime() === end.getTime());\r\n                                                    if (endIdx === -1 && end < timelineDays[0]) return null;\r\n                                                    if (startIdx === -1 && start > timelineDays[timelineDays.length - 1]) return null;\r\n                                                    const effStart = startIdx === -1 ? 0 : startIdx;\r\n                                                    const effEnd = endIdx === -1 ? timelineDays.length - 1 : endIdx;\r\n                                                    return (\r\n                                                        <TouchableOpacity key={sch.id} onPress={() => setEditingSchedule(sch)} style={[styles.bar, { left: effStart * DAY_WIDTH, width: (effEnd - effStart + 1) * DAY_WIDTH, backgroundColor: COLORS.VACATION }]}>\r\n                                                            <Text style={styles.barText} numberOfLines={1}>FRIAS</Text>\r\n                                                        </TouchableOpacity>\r\n                                                    );\r\n                                                })}\r\n                                            </View>\r\n                                        ))}\r\n                                    </View>\r\n                                </ScrollView>\r\n                            </View>\r\n                        </ScrollView>\r\n                    </>\r\n                ) : (\r\n                    <FlatList data={filteredSchedules} keyExtractor={item => item.id} contentContainerStyle={{ padding: 15 }} renderItem={({ item }) => {\r\n                        const info = getStatusEDatas(item.startDate, item.durationDays, item.employeeId);\r\n                        const emp = getEmployeeData(item.employeeId);\r\n                        return (\r\n                            <View style={styles.card}>\r\n                                <View style={[styles.statusIndicator, { backgroundColor: COLORS.PRIMARY }]} />\r\n                                <View style={styles.cardContent}>\r\n                                    <View style={styles.cardHeader}>\r\n                                        <View><Text style={styles.empName}>{item.employeeName}</Text><Text style={{fontSize: 10, color: COLORS.PRIMARY, fontWeight: 'bold'}}>Letra {emp.letra}</Text></View>\r\n                                        <TouchableOpacity onPress={() => setEditingSchedule(item)}><Text style={{fontSize: 18}}></Text></TouchableOpacity>\r\n                                    </View>\r\n                                    <View style={styles.datesGrid}>\r\n                                        <View style={styles.dateBlock}><Text style={styles.dateLabel}>SADA</Text><Text style={[styles.dateValue, {color: COLORS.PRIMARY}]}>{info.saida}</Text></View>\r\n                                        <View style={styles.dateBlock}><Text style={styles.dateLabel}>INCIO</Text><Text style={styles.dateValue}>{item.startDate}</Text></View>\r\n                                        <View style={styles.dateBlock}><Text style={styles.dateLabel}>RETORNO</Text><Text style={[styles.dateValue, {color: COLORS.SAVE}]}>{info.retorno}</Text></View>\r\n                                    </View>\r\n                                </View>\r\n                            </View>\r\n                        );\r\n                    }} />\r\n                )}\r\n            </View>\r\n            <View style={styles.footer}>\r\n                <TouchableOpacity style={[styles.btn, {backgroundColor: COLORS.PRIMARY}]} onPress={onOpenRegister}><Text style={styles.btnT}>+ Func</Text></TouchableOpacity>\r\n                <TouchableOpacity style={[styles.btn, {backgroundColor: COLORS.SAVE}]} onPress={() => onOpenSchedule(null)}><Text style={styles.btnT}>Agendar</Text></TouchableOpacity>\r\n                <TouchableOpacity style={[styles.btn, {backgroundColor: COLORS.VIEW}]} onPress={onOpenMonthly}><Text style={styles.btnT}>Mensal</Text></TouchableOpacity>\r\n            </View>\r\n        </SafeAreaView>\r\n    );\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n    container: { flex: 1, backgroundColor: COLORS.BG },\r\n    mainHeader: { flexDirection: 'row', justifyContent: 'space-between', alignItems: 'center', padding: 20, backgroundColor: '#fff', borderBottomWidth: 1, borderColor: COLORS.LINE },\r\n    mainTitle: { fontSize: 20, fontWeight: 'bold' },\r\n    mainSub: { fontSize: 12, color: COLORS.MUTED },\r\n    topBar: { padding: 15, backgroundColor: '#fff', borderBottomWidth: 1, borderColor: COLORS.LINE },\r\n    navRow: { flexDirection: 'row', justifyContent: 'space-between', marginBottom: 10, gap: 5 },\r\n    arrowBtn: { padding: 10, backgroundColor: '#f9f9f9', borderRadius: 8, borderWidth: 1, borderColor: COLORS.LINE },\r\n    arrowText: { color: COLORS.PRIMARY, fontWeight: 'bold' },\r\n    dateDisplay: { flex: 1, backgroundColor: '#f9f9f9', borderRadius: 8, borderWidth: 1, borderColor: COLORS.LINE, justifyContent: 'center', alignItems: 'center' },\r\n    dateDisplayText: { color: COLORS.PRIMARY, fontWeight: 'bold', fontSize: 13 },\r\n    input: { borderWidth: 1, borderColor: COLORS.LINE, padding: 10, borderRadius: 8, backgroundColor: '#f9f9f9' },\r\n    stickyHeaderContainer: { flexDirection: 'row', height: 40, borderBottomWidth: 1, borderColor: COLORS.LINE, backgroundColor: COLORS.HEADER, zIndex: 10 },\r\n    namesHeaderCorner: { width: 140, borderRightWidth: 1, borderColor: COLORS.LINE, backgroundColor: '#fff', justifyContent: 'center', alignItems: 'center' },\r\n    headerScroll: { flex: 1 },\r\n    mainTimelineContainer: { flexDirection: 'row' },\r\n    namesColumn: { width: 140, borderRightWidth: 1, borderColor: COLORS.LINE, backgroundColor: '#fff', zIndex: 5 },\r\n    gridScroll: { flex: 1 },\r\n    nameRow: { height: ROW_HEIGHT, padding: 5, borderBottomWidth: 1, borderColor: COLORS.LINE, justifyContent: 'center' },\r\n    nameText: { fontWeight: 'bold', fontSize: 12 },\r\n    daysHeader: { flexDirection: 'row', height: 40, backgroundColor: COLORS.HEADER }, \r\n    dayBox: { width: DAY_WIDTH, alignItems: 'center', justifyContent: 'center', borderRightWidth: 1, borderColor: COLORS.LINE },\r\n    dayLabel: { fontSize: 10, fontWeight: 'bold', color: COLORS.TEXT }, \r\n    row: { height: ROW_HEIGHT, flexDirection: 'row', borderBottomWidth: 1, borderColor: COLORS.LINE, position: 'relative' },\r\n    cell: { width: DAY_WIDTH, height: '100%', borderRightWidth: 1, borderColor: COLORS.LINE },\r\n    bar: { position: 'absolute', height: 30, top: (ROW_HEIGHT - 30) / 2, borderRadius: 4, justifyContent: 'center', alignItems: 'center', zIndex: 10, opacity: 0.9 },\r\n    barText: { color: '#fff', fontSize: 9, fontWeight: 'bold', paddingHorizontal: 2 },\r\n    card: { backgroundColor: '#fff', borderRadius: 15, marginBottom: 15, flexDirection: 'row', elevation: 3 },\r\n    statusIndicator: { width: 6, borderTopLeftRadius: 15, borderBottomLeftRadius: 15 },\r\n    cardContent: { flex: 1, padding: 15 },\r\n    cardHeader: { flexDirection: 'row', justifyContent: 'space-between', alignItems: 'center', marginBottom: 10 },\r\n    empName: { fontSize: 16, fontWeight: 'bold' },\r\n    datesGrid: { flexDirection: 'row', justifyContent: 'space-between', paddingVertical: 10, borderTopWidth: 1, borderBottomWidth: 1, borderColor: '#f5f5f5' },\r\n    dateBlock: { alignItems: 'center' },\r\n    dateLabel: { fontSize: 8, fontWeight: 'bold', color: COLORS.MUTED },\r\n    dateValue: { fontSize: 12, fontWeight: 'bold' },\r\n    footer: { padding: 10, flexDirection: 'row', gap: 8, backgroundColor: '#fff', borderTopWidth: 1, borderColor: COLORS.LINE },\r\n    btn: { flex: 1, paddingVertical: 12, borderRadius: 8, alignItems: 'center' },\r\n    btnT: { color: '#fff', fontWeight: 'bold', fontSize: 11 },\r\n    modalOverlay: { flex: 1, backgroundColor: 'rgba(0,0,0,0.5)', justifyContent: 'center', alignItems: 'center' },\r\n    modalContent: { backgroundColor: '#fff', width: '40%', borderRadius: 12, padding: 10 },\r\n    modalItem: { padding: 15, borderBottomWidth: 1, borderBottomColor: COLORS.LINE },\r\n    modalText: { textAlign: 'center', fontSize: 16 },\r\n    editModalContent: { backgroundColor: '#fff', width: '85%', borderRadius: 20, padding: 25, alignItems: 'center' },\r\n    editModalTitle: { fontSize: 18, fontWeight: 'bold', marginBottom: 15 },\r\n    infoRowModal: { backgroundColor: COLORS.HEADER, padding: 15, borderRadius: 15, width: '100%', marginBottom: 20 },\r\n    detailBox: { alignItems: 'center', paddingVertical: 10 },\r\n    detailRow: { flexDirection: 'row', justifyContent: 'space-between', paddingVertical: 10 },\r\n    detailItem: { alignItems: 'center', flex: 1 },\r\n    detailDivider: { height: 1, backgroundColor: '#f0f0f0', width: '100%' },\r\n    infoLabel: { fontSize: 8, fontWeight: 'bold', color: COLORS.MUTED, marginBottom: 4 },\r\n    infoValue: { fontSize: 16, fontWeight: 'bold', color: COLORS.TEXT },\r\n    editBtn: { width: '100%', padding: 15, borderRadius: 10, alignItems: 'center' },\r\n    confirmBox: { backgroundColor: '#fff', width: '80%', padding: 20, borderRadius: 15, alignItems: 'center' },\r\n    confirmTitle: { fontSize: 18, fontWeight: 'bold', color: COLORS.DELETE, marginBottom: 20 },\r\n    confirmActions: { flexDirection: 'row', gap: 10 },\r\n    confirmBtn: { flex: 1, padding: 12, borderRadius: 8, alignItems: 'center' }\r\n});","import React, { useState, useEffect } from 'react';\r\nimport {\r\n    SafeAreaView, View, Text, TextInput, TouchableOpacity,\r\n    FlatList, StyleSheet, ScrollView, Modal, Alert, Switch\r\n} from 'react-native';\r\n\r\nconst COLORS = {\r\n    BG: '#ffffff', HEADER: '#f8f8f8', LINE: '#eeeeee',\r\n    TEXT: '#333', MUTED: '#666', PRIMARY: '#4a61dd',\r\n    SAVE: '#4CAF50', CANCEL: '#666', INPUT_BG: '#f9f9f9',\r\n    SUCCESS: '#1b5e20', INFO: '#e3f2fd', BONUS: '#673AB7',\r\n    ERROR: '#d32f2f', WARNING: '#ff9800'\r\n};\r\n\r\n// MAPEAMENTO DINMICO DE NCORAS (Salto de 2 em 2 dias)\r\nconst ANCHORS = {\r\n    'A': new Date(2025, 11, 27),\r\n    'B': new Date(2025, 11, 29),\r\n    'C': new Date(2025, 11, 31),\r\n    'D': new Date(2026, 0, 2)\r\n};\r\n\r\nexport default function AgendamentoFeriasScreen({ employees, schedules, onSchedule, onCancel }) {\r\n    const [showEmpPicker, setShowEmpPicker] = useState(false);\r\n    const [selectedEmp, setSelectedEmp] = useState(null);\r\n    const [searchText, setSearchText] = useState('');\r\n    const [startDate, setStartDate] = useState(''); \r\n    const [duration, setDuration] = useState('20'); // Valor padro comum\r\n    const [venderDezDias, setVenderDezDias] = useState(false); \r\n    \r\n    const [calcData, setCalcData] = useState({ \r\n        saidaReal: '', inicioOficial: '', termino: '', retorno: '', \r\n        proximaDisponivel: '', erroFolga: false, erroGeral: '' \r\n    });\r\n\r\n    const handleDateChange = (text) => {\r\n        let v = text.replace(/\\D/g, '');\r\n        if (v.length > 2) v = v.slice(0, 2) + '/' + v.slice(2);\r\n        if (v.length > 5) v = v.slice(0, 5) + '/' + v.slice(5, 9);\r\n        setStartDate(v);\r\n    };\r\n\r\n    const toDateObj = (str) => {\r\n        if (!str || str.length < 10) return new Date(NaN);\r\n        const [day, month, year] = str.split('/').map(Number);\r\n        return new Date(year, month - 1, day);\r\n    };\r\n\r\n    const formatDate = (date) => {\r\n        const d = String(date.getDate()).padStart(2, '0');\r\n        const m = String(date.getMonth() + 1).padStart(2, '0');\r\n        const y = date.getFullYear();\r\n        return `${d}/${m}/${y}`;\r\n    };\r\n\r\n    // FUNO QUE CONSIDERA A LETRA DO FUNCIONRIO\r\n    const getDayStatus = (date, empLetra = 'A') => {\r\n        const anchor = ANCHORS[empLetra] || ANCHORS['A'];\r\n        const d = new Date(date);\r\n        d.setHours(0,0,0,0);\r\n        const diffTime = d.getTime() - anchor.getTime();\r\n        const diffDays = Math.floor(diffTime / (1000 * 60 * 60 * 24));\r\n        const cycleDay = ((diffDays % 8) + 8) % 8;\r\n        return cycleDay < 4 ? 'TRABALHO' : 'FOLGA';\r\n    };\r\n\r\n    const validarRegrasRigorosas = (emp, dataInicio, diasGozados, diasVenda) => {\r\n        if (!emp || isNaN(dataInicio.getTime())) return { ok: false, msg: '' };\r\n\r\n        const partes = emp.admissao.includes('-') ? emp.admissao.split('-') : emp.admissao.split('/');\r\n        const adm = emp.admissao.includes('-') \r\n            ? new Date(partes[0], partes[1] - 1, partes[2])\r\n            : new Date(partes[2], partes[1] - 1, partes[0]);\r\n\r\n        let ciclo = dataInicio.getFullYear() - adm.getFullYear();\r\n        if (dataInicio.getMonth() < adm.getMonth() || (dataInicio.getMonth() === adm.getMonth() && dataInicio.getDate() < adm.getDate())) {\r\n            ciclo--;\r\n        }\r\n\r\n        if (ciclo < 1) return { ok: false, msg: \"Ainda no completou o 1 perodo aquisitivo.\" };\r\n\r\n        const duplicado = (schedules || []).some(s => {\r\n            if (s.employeeId !== emp.id) return false;\r\n            const dS = toDateObj(s.startDate);\r\n            let cicloS = dS.getFullYear() - adm.getFullYear();\r\n            if (dS.getMonth() < adm.getMonth() || (dS.getMonth() === adm.getMonth() && dS.getDate() < adm.getDate())) {\r\n                cicloS--;\r\n            }\r\n            return cicloS === ciclo;\r\n        });\r\n\r\n        //if (duplicado) return { ok: false, msg: `O colaborador j possui frias agendadas para o ciclo de ${dataInicio.getFullYear()}.` }; //\r\n\r\n        if ((diasGozados + diasVenda) > 30) return { ok: false, msg: \"Soma de gozo e venda excede 30 dias.\" };\r\n\r\n        return { ok: true, msg: '' };\r\n    };\r\n\r\n    useEffect(() => {\r\n        if (selectedEmp && startDate.length === 10 && duration) {\r\n            const userDate = toDateObj(startDate);\r\n            const check = validarRegrasRigorosas(selectedEmp, userDate, parseInt(duration) || 0, venderDezDias ? 10 : 0);\r\n            \r\n            // Passa a Letra do funcionrio para o clculo de status\r\n            const isFolga = getDayStatus(userDate, selectedEmp.letra) === 'FOLGA';\r\n            let proxima = '';\r\n            if (isFolga) {\r\n                let busca = new Date(userDate);\r\n                while (getDayStatus(busca, selectedEmp.letra) === 'FOLGA') busca.setDate(busca.getDate() + 1);\r\n                proxima = formatDate(busca);\r\n            }\r\n\r\n            let sObj = new Date(userDate);\r\n            sObj.setDate(sObj.getDate() - 1);\r\n            while (getDayStatus(sObj, selectedEmp.letra) === 'FOLGA') sObj.setDate(sObj.getDate() - 1);\r\n            sObj.setDate(sObj.getDate() + 1);\r\n\r\n            const tObj = new Date(userDate);\r\n            tObj.setDate(tObj.getDate() + (parseInt(duration) || 0) - 1);\r\n\r\n            let rObj = new Date(tObj);\r\n            rObj.setDate(rObj.getDate() + 1);\r\n            while (getDayStatus(rObj, selectedEmp.letra) !== 'TRABALHO') rObj.setDate(rObj.getDate() + 1);\r\n\r\n            setCalcData({\r\n                saidaReal: formatDate(sObj),\r\n                inicioOficial: formatDate(userDate),\r\n                termino: formatDate(tObj),\r\n                retorno: formatDate(rObj),\r\n                proximaDisponivel: proxima,\r\n                erroFolga: isFolga,\r\n                erroGeral: check.msg\r\n            });\r\n        }\r\n    }, [startDate, duration, venderDezDias, selectedEmp, schedules]);\r\n\r\n    const handleSave = () => {\r\n        console.log(\"passou aqui\")\r\n        const userDate = toDateObj(startDate);\r\n        const resultado = validarRegrasRigorosas(selectedEmp, userDate, parseInt(duration) || 0, venderDezDias ? 10 : 0);\r\n\r\n        if (!resultado.ok) {\r\n            Alert.alert(\"Agendamento Negado\", resultado.msg);\r\n            return;\r\n        }\r\n\r\n        if (calcData.erroFolga) {\r\n            Alert.alert(\"Erro\", \"No  permitido iniciar frias em dias de folga.\");\r\n            return;\r\n        }\r\n\r\n        onSchedule({\r\n            employeeId: selectedEmp.id,\r\n            employeeName: selectedEmp.nome,\r\n            startDate: calcData.inicioOficial,\r\n            endDate: calcData.termino,\r\n            durationDays: parseInt(duration),\r\n            abonoPecuniario: venderDezDias,\r\n            diasVendidos: venderDezDias ? 10 : 0,\r\n            //letra: selectedEmp.letra // Adiciona a letra ao registro para facilitar a Timeline\r\n        });\r\n    };\r\n\r\n    return (\r\n        <SafeAreaView style={styles.container}>\r\n            <Modal visible={showEmpPicker} transparent animationType=\"fade\">\r\n                <View style={styles.modalOverlay}>\r\n                    <View style={styles.modalContent}>\r\n                        <Text style={styles.modalTitle}>Selecionar Colaborador Ativo</Text>\r\n                        <TextInput style={styles.modalSearchInput} placeholder=\"Pesquisar...\" onChangeText={setSearchText} />\r\n                        <FlatList \r\n                            // FILTRO: APENAS COLABORADORES ATIVOS\r\n                            data={employees.filter(e => e.status === true && e.nome.toLowerCase().includes(searchText.toLowerCase()))}\r\n                            keyExtractor={item => item.id}\r\n                            renderItem={({ item }) => (\r\n                                <TouchableOpacity style={styles.modalItem} onPress={() => { setSelectedEmp(item); setShowEmpPicker(false); }}>\r\n                                    <View style={{flexDirection: 'row', justifyContent: 'space-between'}}>\r\n                                        <Text style={styles.modalText}>{item.nome}</Text>\r\n                                        <Text style={{fontWeight: 'bold', color: COLORS.PRIMARY}}>Grupo {item.letra}</Text>\r\n                                    </View>\r\n                                    <Text style={styles.modalSubText}>Admisso: {item.admissao}</Text>\r\n                                </TouchableOpacity>\r\n                            )}\r\n                        />\r\n                        <TouchableOpacity style={styles.closeBtn} onPress={() => setShowEmpPicker(false)}><Text style={{fontWeight: 'bold'}}>CANCELAR</Text></TouchableOpacity>\r\n                    </View>\r\n                </View>\r\n            </Modal>\r\n\r\n            <View style={styles.header}><Text style={styles.headerTitle}>Agendar Frias</Text></View>\r\n\r\n            <ScrollView style={styles.form} keyboardShouldPersistTaps=\"handled\">\r\n                <TouchableOpacity style={styles.comboButton} onPress={() => setShowEmpPicker(true)}>\r\n                    <Text style={selectedEmp ? {fontWeight: 'bold'} : {color: COLORS.MUTED}}>\r\n                        {selectedEmp ? `${selectedEmp.nome} (Grupo ${selectedEmp.letra})` : \"Selecione o funcionrio ativo...\"}\r\n                    </Text>\r\n                </TouchableOpacity>\r\n\r\n                <View style={styles.vendaRow}>\r\n                    <View style={{flex: 1}}>\r\n                        <Text style={styles.vendaTitle}>Venda de Frias (Abono)</Text>\r\n                        <Text style={styles.vendaSub}>Vender 10 dias do saldo anual</Text>\r\n                    </View>\r\n                    <Switch value={venderDezDias} onValueChange={setVenderDezDias} trackColor={{ false: \"#ddd\", true: COLORS.PRIMARY }} />\r\n                </View>\r\n\r\n                <View style={styles.row}>\r\n                    <View style={{ flex: 1 }}>\r\n                        <Text style={styles.label}>Incio das Frias</Text>\r\n                        <TextInput \r\n                            style={[styles.input, (calcData.erroFolga || calcData.erroGeral) && {borderColor: COLORS.ERROR, borderWidth: 2}]} \r\n                            placeholder=\"DD/MM/AAAA\" keyboardType=\"numeric\" maxLength={10} value={startDate}\r\n                            onChangeText={handleDateChange}\r\n                        />\r\n                    </View>\r\n                    <View style={{ width: 15 }} />\r\n                    <View style={{ flex: 1 }}>\r\n                        <Text style={styles.label}>Dias de Gozo</Text>\r\n                        <TextInput style={styles.input} placeholder=\"Qtd\" keyboardType=\"numeric\" value={duration} onChangeText={setDuration} />\r\n                    </View>\r\n                </View>\r\n\r\n                {calcData.erroGeral ? (\r\n                    <View style={styles.errorCard}><Text style={styles.errorText}> {calcData.erroGeral}</Text></View> //\r\n                ) : null}\r\n\r\n                {calcData.erroFolga && (\r\n                    <View style={styles.errorCard}>\r\n                        <Text style={styles.errorText}> Incio em dia de FOLGA (Escala {selectedEmp?.letra}) no permitido.</Text>\r\n                        <TouchableOpacity onPress={() => setStartDate(calcData.proximaDisponivel)}>\r\n                            <Text style={styles.suggestionText}>Sugesto: {calcData.proximaDisponivel} (Aplicar)</Text>\r\n                        </TouchableOpacity>\r\n                    </View>\r\n                )}\r\n\r\n                {/* PROJEO VISUAL */}\r\n                {calcData.termino && !calcData.erroFolga && !calcData.erroGeral && (\r\n                    <View style={{ marginTop: 20 }}>\r\n                        <View style={[styles.card, {backgroundColor: '#e3f2fd'}]}>\r\n                            <Text style={styles.cardLab}>SADA ANTECIPADA (FOLGA)</Text>\r\n                            <Text style={[styles.cardVal, {color: COLORS.PRIMARY}]}>{calcData.saidaReal}</Text>\r\n                        </View>\r\n                        <View style={styles.row}>\r\n                            <View style={[styles.card, {flex: 1}]}>\r\n                                <Text style={styles.cardLab}>INCIO OFICIAL</Text>\r\n                                <Text style={styles.cardVal}>{calcData.inicioOficial}</Text>\r\n                            </View>\r\n                            <View style={{width: 10}}/>\r\n                            <View style={[styles.card, {flex: 1}]}>\r\n                                <Text style={styles.cardLab}>LTIMO DIA</Text>\r\n                                <Text style={styles.cardVal}>{calcData.termino}</Text>\r\n                            </View>\r\n                        </View>\r\n                        <View style={[styles.card, {backgroundColor: '#e8f5e9'}]}>\r\n                            <Text style={styles.cardLab}>RETORNO AO TRABALHO (1 ESCALA)</Text>\r\n                            <Text style={[styles.cardVal, {color: COLORS.SUCCESS}]}>{calcData.retorno}</Text>\r\n                        </View>\r\n                    </View>\r\n                )}\r\n\r\n                <View style={styles.actions}>\r\n                    <TouchableOpacity style={[styles.btn, { backgroundColor: COLORS.CANCEL }]} onPress={onCancel}><Text style={styles.btnT}>CANCELAR</Text></TouchableOpacity>\r\n                    <TouchableOpacity \r\n                        style={[styles.btn, { backgroundColor: COLORS.SAVE, opacity: (calcData.termino && !calcData.erroFolga && !calcData.erroGeral) ? 1 : 0.5 }]} \r\n                        onPress={handleSave} \r\n                        disabled={!calcData.termino || calcData.erroFolga || !!calcData.erroGeral}\r\n                    >\r\n                        <Text style={styles.btnT}>SALVAR</Text>\r\n                    </TouchableOpacity>\r\n                </View>\r\n            </ScrollView>\r\n        </SafeAreaView>\r\n    );\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n    container: { flex: 1, backgroundColor: COLORS.BG },\r\n    header: { padding: 20, backgroundColor: COLORS.HEADER, borderBottomWidth: 1, borderColor: COLORS.LINE, alignItems: 'center' },\r\n    headerTitle: { fontSize: 18, fontWeight: 'bold' },\r\n    form: { padding: 20 },\r\n    label: { fontSize: 13, fontWeight: 'bold', marginTop: 15, marginBottom: 5 },\r\n    comboButton: { backgroundColor: COLORS.INPUT_BG, padding: 18, borderRadius: 12, borderWidth: 1, borderColor: COLORS.LINE },\r\n    vendaRow: { flexDirection: 'row', justifyContent: 'space-between', alignItems: 'center', backgroundColor: '#f0f4ff', padding: 15, borderRadius: 12, marginTop: 15, borderWidth: 1, borderColor: '#d0d9ff' },\r\n    vendaTitle: { fontSize: 14, fontWeight: 'bold', color: COLORS.PRIMARY },\r\n    vendaSub: { fontSize: 11, color: COLORS.MUTED },\r\n    input: { backgroundColor: COLORS.INPUT_BG, padding: 15, borderRadius: 10, borderWidth: 1, borderColor: COLORS.LINE, fontSize: 16 },\r\n    row: { flexDirection: 'row', marginTop: 10 },\r\n    errorCard: { backgroundColor: '#ffebee', padding: 15, borderRadius: 10, marginTop: 15, borderWidth: 1, borderColor: '#ef9a9a' },\r\n    errorText: { color: COLORS.ERROR, fontWeight: 'bold', textAlign: 'center', fontSize: 12 },\r\n    suggestionText: { color: COLORS.PRIMARY, textAlign: 'center', marginTop: 5, fontWeight: 'bold', textDecorationLine: 'underline' },\r\n    card: { padding: 15, borderRadius: 12, borderWidth: 1, borderColor: COLORS.LINE, alignItems: 'center', marginVertical: 5, backgroundColor: '#fff' },\r\n    cardLab: { fontSize: 9, fontWeight: 'bold', color: '#666' },\r\n    cardVal: { fontSize: 18, fontWeight: 'bold' },\r\n    actions: { flexDirection: 'row', gap: 10, marginTop: 30, marginBottom: 50 },\r\n    btn: { flex: 1, padding: 18, borderRadius: 12, alignItems: 'center' },\r\n    btnT: { color: '#fff', fontWeight: 'bold' },\r\n    modalOverlay: { flex: 1, backgroundColor: 'rgba(0,0,0,0.6)', justifyContent: 'center', alignItems: 'center' },\r\n    modalContent: { backgroundColor: '#fff', width: '90%', borderRadius: 20, padding: 20, maxHeight: '80%' },\r\n    modalTitle: { fontSize: 18, fontWeight: 'bold', marginBottom: 15, textAlign: 'center' },\r\n    modalSearchInput: { backgroundColor: COLORS.INPUT_BG, padding: 12, borderRadius: 10, marginBottom: 15, borderWidth: 1, borderColor: COLORS.LINE },\r\n    modalItem: { paddingVertical: 15, borderBottomWidth: 1, borderBottomColor: COLORS.LINE },\r\n    modalText: { fontSize: 16 },\r\n    modalSubText: { fontSize: 12, color: COLORS.MUTED },\r\n    closeBtn: { marginTop: 20, padding: 10, alignItems: 'center' }\r\n});","import React, { useState, useEffect } from 'react';\r\nimport {\r\n    SafeAreaView, View, Text, TextInput, TouchableOpacity,\r\n    StyleSheet, ScrollView, Alert, Switch\r\n} from 'react-native';\r\n\r\nconst COLORS = {\r\n    BG: '#ffffff', HEADER: '#f8f8f8', LINE: '#eeeeee',\r\n    TEXT: '#333', MUTED: '#666', PRIMARY: '#4a61dd',\r\n    SAVE: '#4CAF50', CANCEL: '#666', INPUT_BG: '#f9f9f9',\r\n    SUCCESS: '#1b5e20', ERROR: '#d32f2f', WARNING: '#ff9800'\r\n};\r\n\r\nconst SCALE_ANCHOR = new Date(2025, 11, 27); \r\n\r\nexport default function EdicaoFeriasScreen({ scheduleToEdit, employees, schedules, onUpdate, onCancel }) {\r\n    if (!scheduleToEdit) return null;\r\n\r\n    const selectedEmp = (employees || []).find(e => e.id === scheduleToEdit.employeeId);\r\n    \r\n    const [startDate, setStartDate] = useState(scheduleToEdit.startDate || ''); \r\n    const [duration, setDuration] = useState(String(scheduleToEdit.durationDays || ''));\r\n    const [venderDezDias, setVenderDezDias] = useState(scheduleToEdit.abonoPecuniario || false); \r\n    \r\n    const [calcData, setCalcData] = useState({ \r\n        saidaReal: '', inicioOficial: '', termino: '', retorno: '', \r\n        proximaDisponivel: '', erroFolga: false, erroGeral: '' \r\n    });\r\n\r\n    const handleDateChange = (text) => {\r\n        let v = text.replace(/\\D/g, '');\r\n        if (v.length > 2) v = v.slice(0, 2) + '/' + v.slice(2);\r\n        if (v.length > 5) v = v.slice(0, 5) + '/' + v.slice(5, 9);\r\n        setStartDate(v);\r\n    };\r\n\r\n    const toDateObj = (str) => {\r\n        if (!str || str.length < 10) return new Date(NaN);\r\n        const [day, month, year] = str.split('/').map(Number);\r\n        return new Date(year, month - 1, day);\r\n    };\r\n\r\n    const formatDate = (date) => {\r\n        const d = String(date.getDate()).padStart(2, '0');\r\n        const m = String(date.getMonth() + 1).padStart(2, '0');\r\n        const y = date.getFullYear();\r\n        return `${d}/${m}/${y}`;\r\n    };\r\n\r\n    const getDayStatus = (date) => {\r\n        const d = new Date(date);\r\n        d.setHours(0,0,0,0);\r\n        const diffTime = d.getTime() - SCALE_ANCHOR.getTime();\r\n        const diffDays = Math.floor(diffTime / (1000 * 60 * 60 * 24));\r\n        const cycleDay = ((diffDays % 8) + 8) % 8;\r\n        return cycleDay < 4 ? 'TRABALHO' : 'FOLGA';\r\n    };\r\n\r\n    // --- LGICA DE VALIDAO CORRIGIDA PARA EDIO ---\r\n    const validarRegrasRigorosas = (emp, dataInicio, diasGozados, diasVenda) => {\r\n        if (!emp || isNaN(dataInicio.getTime())) return { ok: false, msg: '' };\r\n\r\n        const partes = emp.admissao.split(/[-/]/);\r\n        const adm = new Date(partes[0].length === 4 ? partes[0] : partes[2], partes[1] - 1, partes[0].length === 4 ? partes[2] : partes[0]);\r\n\r\n        let ciclo = dataInicio.getFullYear() - adm.getFullYear();\r\n        if (dataInicio.getMonth() < adm.getMonth() || (dataInicio.getMonth() === adm.getMonth() && dataInicio.getDate() < adm.getDate())) {\r\n            ciclo--;\r\n        }\r\n\r\n        if (ciclo < 1) return { ok: false, msg: \"Perodo aquisitivo ainda no completado.\" };\r\n\r\n        // CORREO: Ignora o agendamento atual (scheduleToEdit.id) na verificao de duplicidade\r\n        const duplicado = (schedules || []).some(s => {\r\n           \r\n            if (s.id === scheduleToEdit.id) return false;\r\n            const dS = toDateObj(s.startDate);\r\n            let cicloS = dS.getFullYear() - adm.getFullYear();\r\n            if (dS.getMonth() < adm.getMonth() || (dS.getMonth() === adm.getMonth() && dS.getDate() < adm.getDate())) cicloS--;\r\n            return cicloS === ciclo;\r\n        });\r\n\r\n        if (duplicado) return { ok: false, msg: `J existe outro agendamento diferente para o ciclo de ${dataInicio.getFullYear()}.` };\r\n        if ((diasGozados + diasVenda) > 30) return { ok: false, msg: \"Soma de gozo e venda excede 30 dias.\" };\r\n\r\n        return { ok: true, msg: '' };\r\n    };\r\n\r\n    useEffect(() => {\r\n        if (selectedEmp && startDate.length === 10 && duration) {\r\n            const userDate = toDateObj(startDate);\r\n            const check = validarRegrasRigorosas(selectedEmp, userDate, parseInt(duration) || 0, venderDezDias ? 10 : 0);\r\n            \r\n            const isFolga = getDayStatus(userDate) === 'FOLGA';\r\n            let proxima = '';\r\n            if (isFolga) {\r\n                let busca = new Date(userDate);\r\n                while (getDayStatus(busca) === 'FOLGA') busca.setDate(busca.getDate() + 1);\r\n                proxima = formatDate(busca);\r\n            }\r\n\r\n            let sObj = new Date(userDate);\r\n            sObj.setDate(sObj.getDate() - 1);\r\n            while (getDayStatus(sObj) === 'FOLGA') sObj.setDate(sObj.getDate() - 1);\r\n            sObj.setDate(sObj.getDate() + 1);\r\n\r\n            const tObj = new Date(userDate);\r\n            tObj.setDate(tObj.getDate() + (parseInt(duration) || 0) - 1);\r\n\r\n            let rObj = new Date(tObj);\r\n            rObj.setDate(rObj.getDate() + 1);\r\n            while (getDayStatus(rObj) !== 'TRABALHO') rObj.setDate(rObj.getDate() + 1);\r\n\r\n            setCalcData({\r\n                saidaReal: formatDate(sObj),\r\n                inicioOficial: formatDate(userDate),\r\n                termino: formatDate(tObj),\r\n                retorno: formatDate(rObj),\r\n                proximaDisponivel: proxima,\r\n                erroFolga: isFolga,\r\n                erroGeral: check.msg\r\n            });\r\n        }\r\n    }, [startDate, duration, venderDezDias, schedules]);\r\n\r\n    const handleUpdate = () => {\r\n        if (calcData.erroGeral || calcData.erroFolga) return;\r\n\r\n        onUpdate({\r\n            ...scheduleToEdit,\r\n            startDate: calcData.inicioOficial,\r\n            endDate: calcData.termino,\r\n            durationDays: parseInt(duration),\r\n            abonoPecuniario: venderDezDias,\r\n            diasVendidos: venderDezDias ? 10 : 0\r\n        });\r\n    };\r\n\r\n    return (\r\n        <SafeAreaView style={styles.container}>\r\n            <View style={styles.header}><Text style={styles.headerTitle}>Editar Frias: {selectedEmp?.nome}</Text></View>\r\n\r\n            <ScrollView style={styles.form} keyboardShouldPersistTaps=\"handled\">\r\n                <View style={styles.vendaRow}>\r\n                    <View style={{flex: 1}}>\r\n                        <Text style={styles.vendaTitle}>Venda de Frias (Abono)</Text>\r\n                        <Text style={styles.vendaSub}>Vender 10 dias do saldo anual</Text>\r\n                    </View>\r\n                    <Switch value={venderDezDias} onValueChange={setVenderDezDias} trackColor={{ false: \"#ddd\", true: COLORS.PRIMARY }} />\r\n                </View>\r\n\r\n                <View style={styles.row}>\r\n                    <View style={{ flex: 1 }}>\r\n                        <Text style={styles.label}>Incio das Frias</Text>\r\n                        <TextInput \r\n                            style={[styles.input, (calcData.erroFolga || calcData.erroGeral) && {borderColor: COLORS.ERROR, borderWidth: 2}]} \r\n                            placeholder=\"DD/MM/AAAA\" keyboardType=\"numeric\" maxLength={10} value={startDate}\r\n                            onChangeText={handleDateChange}\r\n                        />\r\n                    </View>\r\n                    <View style={{ width: 15 }} />\r\n                    <View style={{ flex: 1 }}>\r\n                        <Text style={styles.label}>Dias de Gozo</Text>\r\n                        <TextInput style={styles.input} placeholder=\"Qtd\" keyboardType=\"numeric\" value={duration} onChangeText={setDuration} />\r\n                    </View>\r\n                </View>\r\n\r\n                {calcData.erroGeral ? <View style={styles.errorCard}><Text style={styles.errorText}> {calcData.erroGeral}</Text></View> : null}\r\n\r\n                {calcData.erroFolga && (\r\n                    <View style={styles.errorCard}>\r\n                        <Text style={styles.errorText}> Incio em FOLGA no permitido.</Text>\r\n                        <TouchableOpacity onPress={() => setStartDate(calcData.proximaDisponivel)}>\r\n                            <Text style={styles.suggestionText}>Sugesto: {calcData.proximaDisponivel} (Aplicar)</Text>\r\n                        </TouchableOpacity>\r\n                    </View>\r\n                )}\r\n\r\n                {calcData.termino && !calcData.erroFolga && !calcData.erroGeral && (\r\n                    <View style={{ marginTop: 20 }}>\r\n                        <View style={[styles.card, {backgroundColor: '#e3f2fd'}]}>\r\n                            <Text style={styles.cardLab}>SADA ANTECIPADA (FOLGA)</Text>\r\n                            <Text style={[styles.cardVal, {color: COLORS.PRIMARY}]}>{calcData.saidaReal}</Text>\r\n                        </View>\r\n                        <View style={styles.row}>\r\n                            <View style={[styles.card, {flex: 1}]}>\r\n                                <Text style={styles.cardLab}>INCIO OFICIAL</Text>\r\n                                <Text style={styles.cardVal}>{calcData.inicioOficial}</Text>\r\n                            </View>\r\n                            <View style={{width: 10}}/>\r\n                            <View style={[styles.card, {flex: 1}]}>\r\n                                <Text style={styles.cardLab}>LTIMO DIA</Text>\r\n                                <Text style={styles.cardVal}>{calcData.termino}</Text>\r\n                            </View>\r\n                        </View>\r\n                        <View style={[styles.card, {backgroundColor: '#e8f5e9'}]}>\r\n                            <Text style={styles.cardLab}>RETORNO AO TRABALHO (1 ESCALA)</Text>\r\n                            <Text style={[styles.cardVal, {color: COLORS.SUCCESS}]}>{calcData.retorno}</Text>\r\n                        </View>\r\n                    </View>\r\n                )}\r\n\r\n                <View style={styles.actions}>\r\n                    <TouchableOpacity style={[styles.btn, { backgroundColor: COLORS.CANCEL }]} onPress={onCancel}><Text style={styles.btnT}>CANCELAR</Text></TouchableOpacity>\r\n                    <TouchableOpacity \r\n                        style={[styles.btn, { backgroundColor: COLORS.SAVE, opacity: (calcData.termino && !calcData.erroFolga && !calcData.erroGeral) ? 1 : 0.5 }]} \r\n                        onPress={handleUpdate} \r\n                        disabled={!calcData.termino || calcData.erroFolga || !!calcData.erroGeral}\r\n                    >\r\n                        <Text style={styles.btnT}>SALVAR ALTERAES</Text>\r\n                    </TouchableOpacity>\r\n                </View>\r\n            </ScrollView>\r\n        </SafeAreaView>\r\n    );\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n    container: { flex: 1, backgroundColor: COLORS.BG },\r\n    header: { padding: 20, backgroundColor: COLORS.HEADER, borderBottomWidth: 1, borderColor: COLORS.LINE, alignItems: 'center' },\r\n    headerTitle: { fontSize: 18, fontWeight: 'bold' },\r\n    form: { padding: 20 },\r\n    label: { fontSize: 13, fontWeight: 'bold', marginTop: 15, marginBottom: 5 },\r\n    vendaRow: { flexDirection: 'row', justifyContent: 'space-between', alignItems: 'center', backgroundColor: '#f0f4ff', padding: 15, borderRadius: 12, marginTop: 15 },\r\n    vendaTitle: { fontSize: 14, fontWeight: 'bold', color: COLORS.PRIMARY },\r\n    vendaSub: { fontSize: 11, color: COLORS.MUTED },\r\n    input: { backgroundColor: COLORS.INPUT_BG, padding: 15, borderRadius: 10, borderWidth: 1, borderColor: COLORS.LINE, fontSize: 16 },\r\n    row: { flexDirection: 'row', marginTop: 10 },\r\n    errorCard: { backgroundColor: '#ffebee', padding: 15, borderRadius: 10, marginTop: 15, borderWidth: 1, borderColor: '#ef9a9a' },\r\n    errorText: { color: COLORS.ERROR, fontWeight: 'bold', textAlign: 'center', fontSize: 12 },\r\n    suggestionText: { color: COLORS.PRIMARY, textAlign: 'center', marginTop: 5, fontWeight: 'bold' },\r\n    card: { padding: 15, borderRadius: 12, borderWidth: 1, borderColor: COLORS.LINE, alignItems: 'center', marginVertical: 5, backgroundColor: '#fff' },\r\n    cardLab: { fontSize: 9, fontWeight: 'bold', color: '#666' },\r\n    cardVal: { fontSize: 18, fontWeight: 'bold' },\r\n    actions: { flexDirection: 'row', gap: 10, marginTop: 30, marginBottom: 50 },\r\n    btn: { flex: 1, padding: 18, borderRadius: 12, alignItems: 'center' },\r\n    btnT: { color: '#fff', fontWeight: 'bold' }\r\n});","import React, { useState } from 'react';\r\nimport { \r\n    View, Text, TextInput, Alert, TouchableOpacity, \r\n    StyleSheet, SafeAreaView, FlatList, Modal, ScrollView \r\n} from 'react-native';\r\n\r\nconst COLORS = {\r\n    BG: '#f4f7f6',\r\n    CARD_BG: '#ffffff',\r\n    PRIMARY: '#4a61dd',\r\n    SAVE: '#4CAF50',\r\n    CANCEL: '#666666',\r\n    LINE: '#eeeeee',\r\n    TEXT: '#333',\r\n    MUTED: '#666',\r\n    VACATION: '#ff5c8a',\r\n    EDIT: '#FF9800',\r\n    ACTIVE: '#4CAF50',\r\n    INACTIVE: '#E53935',\r\n    FERISTA: '#7E57C2' // Cor roxa para diferenciar visualmente o Ferista\r\n};\r\n\r\n// Mantivemos apenas as letras aqui para o loop da primeira linha\r\nconst LETRAS = ['A', 'B', 'C', 'D'];\r\n\r\nexport default function Funcionarios({ employees = [], schedules = [], onSave, onUpdate, onBack }) {\r\n    const [search, setSearch] = useState('');\r\n    const [showFormModal, setShowFormModal] = useState(false);\r\n    const [showVacationModal, setShowVacationModal] = useState(false);\r\n    const [selectedEmp, setSelectedEmp] = useState(null);\r\n    const [isEditing, setIsEditing] = useState(false);\r\n\r\n    // Estados para o formulrio (Pop-up)\r\n    const [nome, setNome] = useState('');\r\n    const [matricula, setMatricula] = useState('');\r\n    const [admissao, setAdmissao] = useState('');\r\n    const [statusAtivo, setStatusAtivo] = useState(true);\r\n    const [letra, setLetra] = useState('A'); // Pode assumir 'A', 'B', 'C', 'D' ou 'Ferista'\r\n\r\n    const openAddModal = () => {\r\n        resetForm();\r\n        setIsEditing(false);\r\n        setShowFormModal(true);\r\n    };\r\n\r\n    const openEditModal = (emp) => {\r\n        setSelectedEmp(emp);\r\n        setNome(emp.nome);\r\n        setMatricula(emp.matricula);\r\n        setAdmissao(emp.admissao);\r\n        setStatusAtivo(emp.status === true); \r\n        setLetra(emp.letra || 'A');\r\n        setIsEditing(true);\r\n        setShowFormModal(true);\r\n    };\r\n\r\n    const openVacations = (emp) => {\r\n        setSelectedEmp(emp);\r\n        setShowVacationModal(true);\r\n    };\r\n\r\n    const resetForm = () => {\r\n        setNome('');\r\n        setMatricula('');\r\n        setAdmissao('');\r\n        setStatusAtivo(true);\r\n        setLetra('A');\r\n        setSelectedEmp(null);\r\n    };\r\n\r\n    const handleSave = () => {\r\n        if (!nome || !matricula || admissao.length !== 10) {\r\n            Alert.alert(\"Erro\", \"Preencha todos os campos corretamente.\");\r\n            return;\r\n        }\r\n\r\n        const payload = { \r\n            nome, \r\n            matricula, \r\n            admissao, \r\n            status: statusAtivo, \r\n            letra // Aqui vai salvar 'A', 'B'... ou 'Ferista'\r\n        };\r\n\r\n        if (isEditing && selectedEmp) {\r\n            onUpdate({ ...payload, id: selectedEmp.id });\r\n        } else {\r\n            onSave(payload);\r\n        }\r\n        setShowFormModal(false);\r\n        resetForm();\r\n    };\r\n\r\n    const filteredEmployees = (employees || []).filter((e) => \r\n        e.nome?.toLowerCase().includes(search.toLowerCase()) ||\r\n        e.matricula?.toString().includes(search)\r\n    );\r\n\r\n    const renderEmployee = ({ item }) => (\r\n        <View style={styles.empCard}>\r\n            <View style={{ flex: 1 }}>\r\n                <View style={styles.rowAlign}>\r\n                    <Text style={styles.empName}>{item.nome}</Text>\r\n                    <View style={[styles.badge, { backgroundColor: item.status ? COLORS.ACTIVE : COLORS.INACTIVE }]}>\r\n                        <Text style={styles.badgeText}>{item.status ? 'Ativo' : 'Inativo'}</Text>\r\n                    </View>\r\n                    \r\n                    {/* Badge extra se for Ferista para facilitar visualizao na lista */}\r\n                    {item.letra === 'Ferista' && (\r\n                        <View style={[styles.badge, { backgroundColor: COLORS.FERISTA }]}>\r\n                            <Text style={styles.badgeText}>FERISTA</Text>\r\n                        </View>\r\n                    )}\r\n                </View>\r\n                <Text style={styles.empDetails}>Mat: {item.matricula} | Escala: {item.letra || 'A'}</Text>\r\n            </View>\r\n            <View style={styles.empActions}>\r\n                <TouchableOpacity onPress={() => openVacations(item)} style={styles.actionBtn}>\r\n                    <Text style={{ fontSize: 18 }}></Text>\r\n                </TouchableOpacity>\r\n                <TouchableOpacity onPress={() => openEditModal(item)} style={styles.actionBtn}>\r\n                    <Text style={{ fontSize: 18 }}></Text>\r\n                </TouchableOpacity>\r\n            </View>\r\n        </View>\r\n    );\r\n\r\n    return (\r\n        <SafeAreaView style={styles.container}>\r\n            {/* Header */}\r\n            <View style={styles.header}>\r\n                <TouchableOpacity onPress={onBack} style={styles.backButton}>\r\n                    <Text style={styles.backButtonText}> Voltar</Text>\r\n                </TouchableOpacity>\r\n                <Text style={styles.title}>Gesto de Colaboradores</Text>\r\n            </View>\r\n\r\n            {/* Barra de Pesquisa */}\r\n            <View style={styles.searchBarContainer}>\r\n                <TextInput \r\n                    style={styles.searchInput} \r\n                    placeholder=\"Pesquisar...\" \r\n                    value={search}\r\n                    onChangeText={setSearch}\r\n                />\r\n                <TouchableOpacity style={styles.addButton} onPress={openAddModal}>\r\n                    <Text style={styles.addButtonText}>+ Novo</Text>\r\n                </TouchableOpacity>\r\n            </View>\r\n\r\n            <FlatList \r\n                data={filteredEmployees}\r\n                keyExtractor={item => item.id.toString()}\r\n                renderItem={renderEmployee}\r\n                contentContainerStyle={{ paddingHorizontal: 20, paddingBottom: 100 }}\r\n                ListEmptyComponent={<Text style={styles.emptyText}>Nenhum funcionrio encontrado.</Text>}\r\n            />\r\n\r\n            {/* MODAL DE CADASTRO / EDIO */}\r\n            <Modal visible={showFormModal} transparent animationType=\"slide\">\r\n                <View style={styles.modalOverlay}>\r\n                    <View style={styles.modalContent}>\r\n                        <Text style={styles.modalHeader}>{isEditing ? \"Editar\" : \"Cadastrar\"} Colaborador</Text>\r\n                        \r\n                        <ScrollView showsVerticalScrollIndicator={false}>\r\n                            <Text style={styles.label}>Nome Completo</Text>\r\n                            <TextInput style={styles.input} value={nome} onChangeText={setNome} placeholder=\"Nome\" />\r\n                            \r\n                            <View style={styles.row}>\r\n                                <View style={{ flex: 1 }}>\r\n                                    <Text style={styles.label}>Matrcula</Text>\r\n                                    <TextInput style={styles.input} value={matricula} onChangeText={setMatricula} keyboardType=\"numeric\" />\r\n                                </View>\r\n                                <View style={{ width: 10 }} />\r\n                                <View style={{ flex: 1 }}>\r\n                                    <Text style={styles.label}>Admisso</Text>\r\n                                    <TextInput style={styles.input} value={admissao} onChangeText={setAdmissao} placeholder=\"DD/MM/AAAA\" maxLength={10} />\r\n                                </View>\r\n                            </View>\r\n\r\n                            <Text style={styles.label}>Grupo de Escala</Text>\r\n                            \r\n                            {/* LINHA 1: LETRAS A, B, C, D */}\r\n                            <View style={styles.optionRow}>\r\n                                {LETRAS.map(l => (\r\n                                    <TouchableOpacity \r\n                                        key={l} \r\n                                        style={[styles.optionBtn, letra === l && styles.optionBtnActive]} \r\n                                        onPress={() => setLetra(l)}\r\n                                    >\r\n                                        <Text style={[styles.optionText, letra === l && styles.optionTextActive]}>{l}</Text>\r\n                                    </TouchableOpacity>\r\n                                ))}\r\n                            </View>\r\n\r\n                            {/* LINHA 2: BOTO DEDICADO AO FERISTA */}\r\n                            <TouchableOpacity \r\n                                style={[styles.feristaBtn, letra === 'Ferista' && styles.feristaBtnActive]} \r\n                                onPress={() => setLetra('Ferista')}\r\n                            >\r\n                                <Text style={[styles.optionText, letra === 'Ferista' && styles.optionTextActive]}>\r\n                                    FERISTA (Volante)\r\n                                </Text>\r\n                            </TouchableOpacity>\r\n\r\n                            <Text style={styles.label}>Status do Colaborador</Text>\r\n                            <View style={styles.optionRow}>\r\n                                <TouchableOpacity \r\n                                    style={[styles.statusToggle, statusAtivo && styles.btnAtivo]} \r\n                                    onPress={() => setStatusAtivo(true)}\r\n                                >\r\n                                    <Text style={[styles.optionText, statusAtivo && styles.optionTextActive]}>Ativo</Text>\r\n                                </TouchableOpacity>\r\n                                <TouchableOpacity \r\n                                    style={[styles.statusToggle, !statusAtivo && styles.btnInativo]} \r\n                                    onPress={() => setStatusAtivo(false)}\r\n                                >\r\n                                    <Text style={[styles.optionText, !statusAtivo && styles.optionTextActive]}>Inativo</Text>\r\n                                </TouchableOpacity>\r\n                            </View>\r\n\r\n                            <View style={styles.modalFooter}>\r\n                                <TouchableOpacity style={[styles.btn, { backgroundColor: COLORS.CANCEL }]} onPress={() => setShowFormModal(false)}>\r\n                                    <Text style={styles.btnT}>Cancelar</Text>\r\n                                </TouchableOpacity>\r\n                                <TouchableOpacity style={[styles.btn, { backgroundColor: COLORS.SAVE }]} onPress={handleSave}>\r\n                                    <Text style={styles.btnT}>Salvar</Text>\r\n                                </TouchableOpacity>\r\n                            </View>\r\n                        </ScrollView>\r\n                    </View>\r\n                </View>\r\n            </Modal>\r\n\r\n            {/* MODAL HISTRICO FRIAS (MANTIDO IGUAL) */}\r\n            <Modal visible={showVacationModal} transparent animationType=\"fade\">\r\n                <View style={styles.modalOverlay}>\r\n                    <View style={styles.modalContent}>\r\n                        <Text style={styles.modalHeader}>Histrico: {selectedEmp?.nome}</Text>\r\n                        <ScrollView style={{ maxHeight: 300, marginVertical: 15 }}>\r\n                            {(schedules || []).filter(s => s.employeeId === selectedEmp?.id).map((vac) => (\r\n                                <View key={vac.id} style={styles.vacationItem}>\r\n                                    <View style={styles.vacationIndicator} />\r\n                                    <View>\r\n                                        <Text style={styles.vacDate}>{vac.startDate} at {vac.endDate}</Text>\r\n                                        <Text style={styles.vacInfo}>{vac.durationDays} dias</Text>\r\n                                    </View>\r\n                                </View>\r\n                            ))}\r\n                        </ScrollView>\r\n                        <TouchableOpacity style={[styles.btn, { backgroundColor: COLORS.PRIMARY }]} onPress={() => setShowVacationModal(false)}>\r\n                            <Text style={styles.btnT}>Fechar</Text>\r\n                        </TouchableOpacity>\r\n                    </View>\r\n                </View>\r\n            </Modal>\r\n        </SafeAreaView>\r\n    );\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n    container: { flex: 1, backgroundColor: COLORS.BG },\r\n    header: { padding: 16, flexDirection: 'row', alignItems: 'center', backgroundColor: '#fff', borderBottomWidth: 1, borderColor: COLORS.LINE },\r\n    backButton: { backgroundColor: COLORS.PRIMARY, paddingVertical: 8, paddingHorizontal: 12, borderRadius: 8 },\r\n    backButtonText: { color: '#FFF', fontWeight: 'bold' },\r\n    title: { fontSize: 18, fontWeight: 'bold', marginLeft: 15 },\r\n    searchBarContainer: { flexDirection: 'row', padding: 15, gap: 10 },\r\n    searchInput: { flex: 1, backgroundColor: '#fff', padding: 12, borderRadius: 10, borderWidth: 1, borderColor: COLORS.LINE },\r\n    addButton: { backgroundColor: COLORS.SAVE, paddingHorizontal: 15, borderRadius: 10, justifyContent: 'center' },\r\n    addButtonText: { color: '#fff', fontWeight: 'bold' },\r\n    empCard: { backgroundColor: '#fff', padding: 15, borderRadius: 12, flexDirection: 'row', alignItems: 'center', marginBottom: 10, marginHorizontal: 20, elevation: 2 },\r\n    rowAlign: { flexDirection: 'row', alignItems: 'center', gap: 8, flexWrap: 'wrap' },\r\n    empName: { fontSize: 15, fontWeight: 'bold' },\r\n    badge: { paddingHorizontal: 6, paddingVertical: 2, borderRadius: 4 },\r\n    badgeText: { color: '#fff', fontSize: 10, fontWeight: 'bold' },\r\n    empDetails: { fontSize: 12, color: COLORS.MUTED, marginTop: 4 },\r\n    empActions: { flexDirection: 'row', gap: 12 },\r\n    actionBtn: { padding: 5 },\r\n    modalOverlay: { flex: 1, backgroundColor: 'rgba(0,0,0,0.5)', justifyContent: 'center', alignItems: 'center' },\r\n    modalContent: { backgroundColor: '#fff', width: '90%', borderRadius: 25, padding: 25, maxHeight: '80%' },\r\n    modalHeader: { fontSize: 18, fontWeight: 'bold', textAlign: 'center', marginBottom: 20 },\r\n    label: { fontSize: 12, fontWeight: 'bold', color: COLORS.MUTED, marginBottom: 5, marginTop: 15 },\r\n    input: { backgroundColor: '#f9f9f9', borderWidth: 1, borderColor: COLORS.LINE, padding: 12, borderRadius: 10 },\r\n    row: { flexDirection: 'row' },\r\n    optionRow: { flexDirection: 'row', justifyContent: 'space-between', marginTop: 5 },\r\n    \r\n    // Botes das Letras (A, B, C, D)\r\n    optionBtn: { width: '22%', padding: 12, borderRadius: 10, borderWidth: 1, borderColor: COLORS.LINE, alignItems: 'center' },\r\n    optionBtnActive: { backgroundColor: COLORS.PRIMARY, borderColor: COLORS.PRIMARY },\r\n    \r\n    // Novo Boto do Ferista (Largo)\r\n    feristaBtn: { width: '100%', marginTop: 10, padding: 12, borderRadius: 10, borderWidth: 1, borderColor: COLORS.LINE, alignItems: 'center', borderStyle: 'dashed' },\r\n    feristaBtnActive: { backgroundColor: COLORS.FERISTA, borderColor: COLORS.FERISTA, borderStyle: 'solid' },\r\n\r\n    optionText: { fontWeight: 'bold', color: COLORS.TEXT },\r\n    optionTextActive: { color: '#fff' },\r\n    statusToggle: { width: '48%', padding: 12, borderRadius: 10, borderWidth: 1, borderColor: COLORS.LINE, alignItems: 'center' },\r\n    btnAtivo: { backgroundColor: COLORS.ACTIVE, borderColor: COLORS.ACTIVE },\r\n    btnInativo: { backgroundColor: COLORS.INACTIVE, borderColor: COLORS.INACTIVE },\r\n    modalFooter: { flexDirection: 'row', gap: 10, marginTop: 30 },\r\n    btn: { flex: 1, padding: 15, borderRadius: 12, alignItems: 'center' },\r\n    btnT: { color: '#fff', fontWeight: 'bold' },\r\n    vacationItem: { flexDirection: 'row', alignItems: 'center', backgroundColor: '#f9f9f9', padding: 12, borderRadius: 10, marginBottom: 8 },\r\n    vacationIndicator: { width: 4, height: 20, backgroundColor: COLORS.VACATION, marginRight: 12, borderRadius: 2 },\r\n    vacDate: { fontSize: 13, fontWeight: 'bold' },\r\n    vacInfo: { fontSize: 11, color: COLORS.MUTED },\r\n    emptyText: { textAlign: 'center', color: '#999', marginTop: 10 }\r\n});","// screen/VisaoMensalScreen.js\r\n\r\nimport React, { useState } from 'react';\r\nimport { \r\n    SafeAreaView, View, Text, ScrollView, TouchableOpacity, \r\n    StyleSheet\r\n} from 'react-native';\r\n\r\nconst COLORS = {\r\n    BACKGROUND_LIGHT: '#ffffff',\r\n    HEADER_BG: '#f8f8f8',\r\n    TEXT_DARK: '#333333',\r\n    TEXT_MUTED: '#666666',\r\n    GRID_LINE: '#eeeeee',\r\n    BUTTON_PRIMARY: '#4a61dd',\r\n    ACCENT_SCHEDULE: '#2196f3', // Azul para Agendamentos\r\n};\r\n\r\n// Fallback caso a lista de meses no venha no \"data\"\r\nconst DEFAULT_MONTHS = [\r\n    \"Janeiro\", \"Fevereiro\", \"Maro\", \"Abril\", \"Maio\", \"Junho\", \r\n    \"Julho\", \"Agosto\", \"Setembro\", \"Outubro\", \"Novembro\", \"Dezembro\"\r\n];\r\n\r\n// --- Funes Utilitrias de Data ---\r\n\r\nfunction parseDateAnyFormat(dateVal) {\r\n    if (!dateVal) return new Date('Invalid Date');\r\n    if (dateVal instanceof Date) return dateVal;\r\n    if (typeof dateVal === 'string' && dateVal.includes('/')) {\r\n        const [d, m, y] = dateVal.split('/').map(Number);\r\n        return new Date(y, m - 1, d);\r\n    }\r\n    return new Date(dateVal); // ISO format YYYY-MM-DD\r\n}\r\n\r\nexport default function VisaoMensalScreen({ data, schedules = [], onBack }) { \r\n    const [currentYear, setCurrentYear] = useState(new Date().getFullYear());\r\n\r\n    const handlePrevYear = () => setCurrentYear(prev => prev - 1);\r\n    const handleNextYear = () => setCurrentYear(prev => prev + 1);\r\n\r\n    // Proteo: usa a lista padro se 'months' no vier\r\n    const { months = DEFAULT_MONTHS } = data || {}; \r\n\r\n    // --- Filtrar Agendamentos (Frias Marcadas) ---\r\n    const monthlySchedules = Array.from({ length: 12 }, () => []);\r\n    \r\n    if (Array.isArray(schedules)) {\r\n        schedules.forEach(sch => {\r\n            const startDateObj = parseDateAnyFormat(sch.startDate);\r\n            // Verifica data vlida e ano atual\r\n            if (!isNaN(startDateObj.getTime()) && startDateObj.getFullYear() === currentYear) {\r\n                const startMonth = startDateObj.getMonth();\r\n                monthlySchedules[startMonth].push(sch);\r\n            }\r\n        });\r\n    }\r\n\r\n    return (\r\n        <SafeAreaView style={styles.container}>\r\n            {/* CABEALHO */}\r\n            <View style={styles.header}>\r\n                <TouchableOpacity onPress={onBack} style={styles.backButton}>\r\n                    <Text style={styles.backButtonText}> Voltar</Text>\r\n                </TouchableOpacity>\r\n                <Text style={styles.title}>Viso Mensal {currentYear}</Text>\r\n            </View>\r\n            \r\n            {/* NAVEGAO DE ANO */}\r\n            <View style={styles.yearNav}>\r\n                <TouchableOpacity onPress={handlePrevYear} style={styles.yearBtn}>\r\n                    <Text style={styles.yearBtnText}>{'<<'}</Text>\r\n                </TouchableOpacity>\r\n                <Text style={styles.currentYearText}>{currentYear}</Text>\r\n                <TouchableOpacity onPress={handleNextYear} style={styles.yearBtn}>\r\n                    <Text style={styles.yearBtnText}>{'>>'}</Text>\r\n                </TouchableOpacity>\r\n            </View>\r\n\r\n            <ScrollView contentContainerStyle={styles.scrollContent}>\r\n                {months.map((m, idx) => (\r\n                    <View key={m} style={styles.monthSection}>\r\n                        <Text style={styles.monthTitle}>{m}</Text>\r\n                        \r\n                        {/* CARD DE AGENDAMENTOS */}\r\n                        <View style={[styles.card, styles.schCard]}>\r\n                            <View style={styles.cardHeader}>\r\n                                <Text style={styles.cardTitleSch}>FRIAS MARCADAS</Text>\r\n                                <View style={[styles.badge, { backgroundColor: COLORS.ACCENT_SCHEDULE }]}>\r\n                                    <Text style={styles.badgeText}>{monthlySchedules[idx]?.length || 0}</Text>\r\n                                </View>\r\n                            </View>\r\n                            {(!monthlySchedules[idx] || monthlySchedules[idx].length === 0) ? (\r\n                                <Text style={styles.emptyText}>Nenhum agendamento.</Text>\r\n                            ) : (\r\n                                monthlySchedules[idx].map((sch, i) => (\r\n                                    <View key={i} style={styles.itemLine}>\r\n                                        <Text style={styles.itemName}>{sch.employeeName}</Text>\r\n                                        <Text style={styles.itemDetail}>{sch.startDate}  {sch.durationDays} dias</Text>\r\n                                    </View>\r\n                                ))\r\n                            )}\r\n                        </View>\r\n                    </View>\r\n                ))}\r\n            </ScrollView>\r\n        </SafeAreaView>\r\n    );\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n    container: { flex: 1, backgroundColor: COLORS.BACKGROUND_LIGHT },\r\n    header: { \r\n        padding: 16, \r\n        flexDirection: 'row', \r\n        alignItems: 'center', \r\n        backgroundColor: COLORS.HEADER_BG, \r\n        borderBottomWidth: 1, \r\n        borderColor: COLORS.GRID_LINE \r\n    },\r\n    backButton: { backgroundColor: COLORS.BUTTON_PRIMARY, paddingVertical: 6, paddingHorizontal: 12, borderRadius: 6 },\r\n    backButtonText: { color: '#FFF', fontWeight: 'bold' },\r\n    title: { fontSize: 18, fontWeight: 'bold', color: COLORS.TEXT_DARK, marginLeft: 15 },\r\n    \r\n    yearNav: { \r\n        flexDirection: 'row', \r\n        justifyContent: 'center', \r\n        alignItems: 'center', \r\n        padding: 10, \r\n        backgroundColor: '#FFF', \r\n        gap: 30,\r\n        borderBottomWidth: 1,\r\n        borderColor: COLORS.GRID_LINE\r\n    },\r\n    yearBtn: { padding: 10 },\r\n    yearBtnText: { fontSize: 20, fontWeight: 'bold', color: COLORS.BUTTON_PRIMARY },\r\n    currentYearText: { fontSize: 22, fontWeight: '900', color: COLORS.TEXT_DARK },\r\n\r\n    scrollContent: { padding: 15 },\r\n    monthSection: { marginBottom: 25 },\r\n    monthTitle: { fontSize: 20, fontWeight: 'bold', color: COLORS.TEXT_DARK, marginBottom: 10, borderLeftWidth: 4, borderLeftColor: COLORS.BUTTON_PRIMARY, paddingLeft: 10 },\r\n    \r\n    card: { \r\n        backgroundColor: '#FFF', \r\n        borderRadius: 10, \r\n        padding: 12, \r\n        marginBottom: 8,\r\n        borderWidth: 1,\r\n        borderColor: COLORS.GRID_LINE,\r\n        elevation: 2,\r\n        shadowColor: '#000',\r\n        shadowOpacity: 0.05,\r\n        shadowRadius: 3,\r\n    },\r\n    // Removi styles.vencCard\r\n    schCard: { borderTopWidth: 3, borderTopColor: COLORS.ACCENT_SCHEDULE },\r\n    \r\n    cardHeader: { flexDirection: 'row', justifyContent: 'space-between', alignItems: 'center', marginBottom: 10 },\r\n    cardTitleSch: { fontSize: 12, fontWeight: 'bold', color: COLORS.ACCENT_SCHEDULE },\r\n    \r\n    badge: { borderRadius: 12, minWidth: 24, height: 24, justifyContent: 'center', alignItems: 'center', paddingHorizontal: 6 },\r\n    badgeText: { color: '#FFF', fontSize: 12, fontWeight: 'bold' },\r\n    \r\n    emptyText: { color: COLORS.TEXT_MUTED, fontSize: 12, fontStyle: 'italic' },\r\n    itemLine: { paddingVertical: 6, borderBottomWidth: 1, borderBottomColor: COLORS.GRID_LINE },\r\n    itemName: { fontSize: 14, fontWeight: '600', color: COLORS.TEXT_DARK },\r\n    itemDetail: { fontSize: 12, color: COLORS.TEXT_MUTED }\r\n});","import React, { useState, useEffect, useMemo } from 'react';\nimport { View, StyleSheet, Alert, ActivityIndicator } from 'react-native';\nimport { supabase } from './lib/supabase';\n\n// Importao das suas telas\nimport HomeScreen from './screen/Home';\nimport AgendamentoFeriasScreen from './screen/AgendamentoFeriasScreen';\nimport EdicaoFeriasScreen from './screen/EdicaoFeriasScreen';\nimport Funcionarios from './screen/Funcionarios';\nimport VisaoMensalScreen from './screen/VisaoMensalScreen';\n\n// --- 1. CONFIGURAES TCNICAS (NCORAS 4X4) ---\n\nconst ANCHORS = {\n    'A': new Date(2025, 11, 27),\n    'B': new Date(2025, 11, 29),\n    'C': new Date(2025, 11, 31),\n    'D': new Date(2026, 0, 2)\n};\n\n// --- 2. UTILITRIOS DE DATA E ESCALA ---\n\nconst parseDateSafe = (dateStr) => {\n    if (!dateStr) return null;\n    try {\n        const cleanStr = typeof dateStr === 'string' ? dateStr.split('T')[0] : dateStr;\n        const [year, month, day] = cleanStr.split('-').map(Number);\n        const date = new Date(year, month - 1, day);\n        date.setHours(0, 0, 0, 0);\n        return isNaN(date.getTime()) ? null : date;\n    } catch (e) { return null; }\n};\n\nconst extrairLetraFuncionario = (funcionario) => {\n    if (!funcionario) return 'A';\n    const letraDireta = funcionario.letra?.toUpperCase();\n    if (['A', 'B', 'C', 'D'].includes(letraDireta)) return letraDireta;\n    const match = funcionario.nome?.match(/Letra\\s([A-D])/i);\n    return match ? match[1].toUpperCase() : 'A';\n};\n\n// Descobre se um dia  Trabalho ou Folga para uma letra especfica\nconst getDayType = (date, letra) => {\n    const anchor = ANCHORS[letra] || ANCHORS['A'];\n    const diffTime = date.getTime() - anchor.getTime();\n    const diffDays = Math.floor(diffTime / (1000 * 60 * 60 * 24));\n    const cycleDay = ((diffDays % 8) + 8) % 8;\n    return cycleDay < 4 ? 'TRABALHO' : 'FOLGA';\n};\n\n// --- 3. LGICA DINMICA DO FERISTA ---\n\nconst gerarEscalaFerista = (agendamentos, listaFuncionarios) => {\n    if (!agendamentos || agendamentos.length === 0) return {};\n\n    const mapaFerista = {};\n    const ordenados = [...agendamentos].sort((a, b) => {\n        const da = parseDateSafe(a.data_inicio || a.startDate);\n        const db = parseDateSafe(b.data_inicio || b.startDate);\n        return (da?.getTime() || 0) - (db?.getTime() || 0);\n    });\n\n    ordenados.forEach((feriasAlvo, index) => {\n        const dataInicioNova = parseDateSafe(feriasAlvo.data_inicio || feriasAlvo.startDate);\n        if (!dataInicioNova) return;\n\n        const funcAlvo = listaFuncionarios.find(f => f.id === (feriasAlvo.employee_id || feriasAlvo.employeeId));\n        const letraDestino = extrairLetraFuncionario(funcAlvo);\n        \n        const feriasAnterior = index > 0 ? ordenados[index - 1] : null;\n        const dataFimAnterior = feriasAnterior ? parseDateSafe(feriasAnterior.data_fim || feriasAnterior.endDate) : null;\n        const funcAnterior = feriasAnterior ? listaFuncionarios.find(f => f.id === (feriasAnterior.employee_id || feriasAnterior.employeeId)) : null;\n        const letraOrigem = funcAnterior ? extrairLetraFuncionario(funcAnterior) : null;\n\n        // --- LGICA DE TRANSIO INTELIGENTE ---\n        // Vamos analisar os 8 dias anteriores ao incio da cobertura atual\n        let dataCorrente = new Date(dataInicioNova);\n        \n        for (let i = 1; i <= 8; i++) {\n            dataCorrente.setDate(dataCorrente.getDate() - 1);\n            \n            // Se encostarmos no fim das frias anteriores, paramos a transio\n            if (dataFimAnterior && dataCorrente <= dataFimAnterior) break;\n\n            const dataKey = dataCorrente.toISOString().split('T')[0];\n\n            // 1. Se a Letra Destino trabalha hoje, o ferista DEVE FOLGAR (preparao)\n            // 2. Se a Letra Destino folga hoje, o ferista PODE TRABALHAR na Letra Origem\n            const tipoDestino = getDayType(dataCorrente, letraDestino);\n\n            if (tipoDestino === 'TRABALHO') {\n                mapaFerista[dataKey] = { tipo: 'FOLGA', descricao: 'Descanso Pr-Escala' };\n            } else {\n                // Se temos uma letra de origem (estvamos cobrindo algum), checamos se ela trabalha\n                if (letraOrigem) {\n                    const tipoOrigem = getDayType(dataCorrente, letraOrigem);\n                    if (tipoOrigem === 'TRABALHO') {\n                        mapaFerista[dataKey] = { tipo: 'TRABALHO', descricao: `Ponte Letra ${letraOrigem}` };\n                    } else {\n                        mapaFerista[dataKey] = { tipo: 'FOLGA', descricao: 'Folga Dupla' };\n                    }\n                } else {\n                    mapaFerista[dataKey] = { tipo: 'FOLGA', descricao: 'Sem Cobertura' };\n                }\n            }\n        }\n    });\n\n    return mapaFerista;\n};\n\n// --- 4. COMPONENTE APP ---\n\nexport default function App() {\n    const [currentScreen, setCurrentScreen] = useState('HOME');\n    const [employees, setEmployees] = useState([]);\n    const [schedules, setSchedules] = useState([]);\n    const [scheduleToEdit, setScheduleToEdit] = useState(null);\n    const [loading, setLoading] = useState(true);\n\n    const fetchData = async () => {\n        setLoading(true);\n        try {\n            const { data: emp } = await supabase.from('employees').select('*').order('nome');\n            const { data: sch } = await supabase.from('schedules').select('*');\n            setEmployees(emp || []);\n            setSchedules(sch || []);\n        } catch (e) {\n            Alert.alert(\"Erro\", \"Erro ao carregar dados.\");\n        } finally { setLoading(false); }\n    };\n\n    useEffect(() => { fetchData(); }, []);\n\n    const feristaData = useMemo(() => {\n        return gerarEscalaFerista(schedules, employees);\n    }, [schedules, employees]);\n\n    const handleSaveSchedule = async (record) => {\n        const { error } = await supabase.from('schedules').insert([record]);\n        if (!error) { await fetchData(); setCurrentScreen('HOME'); }\n    };\n\n    const handleUpdateSchedule = async (data) => {\n        const { id, ...payload } = data;\n        const { error } = await supabase.from('schedules').update(payload).eq('id', id);\n        if (!error) { await fetchData(); setCurrentScreen('HOME'); }\n    };\n\n    const handleDeleteSchedules = async (ids) => {\n        await supabase.from('schedules').delete().in('id', ids);\n        fetchData();\n    };\n\n    if (loading) return <View style={styles.center}><ActivityIndicator size=\"large\" color=\"#4a61dd\" /></View>;\n\n    return (\n        <View style={styles.container}>\n            {currentScreen === 'HOME' && (\n                <HomeScreen \n                    employees={employees} \n                    schedules={schedules} \n                    feristaData={feristaData}\n                    onOpenRegister={() => setCurrentScreen('FUNCIONARIOS')}\n                    onOpenMonthly={() => setCurrentScreen('MENSAL')}\n                    onOpenSchedule={(d) => { setScheduleToEdit(d); setCurrentScreen(d ? 'EDITAR' : 'AGENDAR'); }}\n                    onDeleteSchedules={handleDeleteSchedules}\n                />\n            )}\n            {currentScreen === 'AGENDAR' && <AgendamentoFeriasScreen employees={employees} onSchedule={handleSaveSchedule} onCancel={() => setCurrentScreen('HOME')} />}\n            {currentScreen === 'EDITAR' && <EdicaoFeriasScreen scheduleToEdit={scheduleToEdit} employees={employees} onUpdate={handleUpdateSchedule} onCancel={() => setCurrentScreen('HOME')} />}\n            {currentScreen === 'FUNCIONARIOS' && <Funcionarios employees={employees} onBack={() => setCurrentScreen('HOME')} onSave={fetchData} onUpdate={fetchData} />}\n            {currentScreen === 'MENSAL' && <VisaoMensalScreen employees={employees} schedules={schedules} feristaData={feristaData} onBack={() => setCurrentScreen('HOME')} />}\n        </View>\n    );\n}\n\nconst styles = StyleSheet.create({\n    container: { flex: 1, backgroundColor: '#fff' },\n    center: { flex: 1, justifyContent: 'center', alignItems: 'center' }\n});","import { registerRootComponent } from 'expo';\n\nimport App from './App';\n\n// registerRootComponent calls AppRegistry.registerComponent('main', () => App);\n// It also ensures that whether you load the app in Expo Go or in a native build,\n// the environment is set up appropriately\nregisterRootComponent(App);\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","var deferred = [];\n__webpack_require__.O = (result, chunkIds, fn, priority) => {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar [chunkIds, fn, priority] = deferred[i];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every((key) => (__webpack_require__.O[key](chunkIds[j])))) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t792: 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = (chunkId) => (installedChunks[chunkId] === 0);\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = (parentChunkLoadingFunction, data) => {\n\tvar [chunkIds, moreModules, runtime] = data;\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some((id) => (installedChunks[id] !== 0))) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkweb\"] = self[\"webpackChunkweb\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [559], () => (__webpack_require__(1522)))\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["supabase","createClient","auth","storage","AsyncStorage","autoRefreshToken","persistSession","detectSessionInUrl","COLORS","ANCHORS","Date","MONTHS","YEARS","parseSafeDate","dateVal","d","cleanDate","substring","includes","y","m","d_","split","map","Number","isNaN","getTime","setHours","formatDateKey","date","toISOString","e","HomeScreen","employees","schedules","feristaData","onOpenRegister","onOpenMonthly","onOpenSchedule","onDeleteSchedules","search","setSearch","useState","currentDate","setCurrentDate","showMonthPicker","setShowMonthPicker","showYearPicker","setShowYearPicker","editingSchedule","setEditingSchedule","showConfirmDelete","setShowConfirmDelete","isTimelineView","setIsTimelineView","headerScrollRef","useRef","gridScrollRef","coverageMap","useMemo","forEach","sch","start","startDate","end","endDate","emp","find","id","employeeId","letra","curr","k","setDate","getDate","getEmployeeData","empId","status","getStatusEDatas","startDateStr","durationDays","saida","retorno","fim","getDayType","calculateStandardScaleColor","backgroundColor","parseInt","fmt","String","padStart","getMonth","getFullYear","targetDate","anchor","diffTime","Math","floor","getScaleStyle","nome","toUpperCase","dateKey","letraCoberta","feristaInfo","tipo","changeMonth","delta","timelineDays","Array","from","length","_","i","filteredSchedules","filter","s","matchesSearch","employeeName","toLowerCase","dS","matchesDate","employeesFiltered","_jsxs","SafeAreaView","style","styles","container","children","_jsx","Modal","visible","transparent","animationType","TouchableOpacity","modalOverlay","onPress","View","modalContent","item","modalItem","Text","modalText","editModalContent","editModalTitle","infoRowModal","info","_Fragment","detailBox","infoLabel","color","infoValue","detailDivider","detailRow","detailItem","editBtn","marginBottom","data","btnT","confirmBox","confirmTitle","confirmActions","confirmBtn","async","mainHeader","mainTitle","mainSub","Switch","value","onValueChange","trackColor","false","true","topBar","navRow","arrowBtn","arrowText","dateDisplay","dateDisplayText","TextInput","placeholder","input","onChangeText","flex","stickyHeaderContainer","namesHeaderCorner","fontSize","fontWeight","ScrollView","horizontal","ref","scrollEnabled","showsHorizontalScrollIndicator","headerScroll","daysHeader","dayBox","dayLabel","contentContainerStyle","flexGrow","mainTimelineContainer","namesColumn","nameRow","nameText","numberOfLines","gridScroll","onScroll","event","x","nativeEvent","contentOffset","current","scrollTo","animated","scrollEventThrottle","row","cell","startIdx","findIndex","endIdx","effStart","effEnd","bar","left","width","barText","FlatList","keyExtractor","padding","renderItem","card","statusIndicator","cardContent","cardHeader","empName","datesGrid","dateBlock","dateLabel","dateValue","footer","btn","StyleSheet","create","flexDirection","justifyContent","alignItems","borderBottomWidth","borderColor","gap","borderRadius","borderWidth","height","zIndex","borderRightWidth","position","top","opacity","paddingHorizontal","elevation","borderTopLeftRadius","borderBottomLeftRadius","paddingVertical","borderTopWidth","borderBottomColor","textAlign","AgendamentoFeriasScreen","onSchedule","onCancel","showEmpPicker","setShowEmpPicker","selectedEmp","setSelectedEmp","searchText","setSearchText","setStartDate","duration","setDuration","venderDezDias","setVenderDezDias","calcData","setCalcData","saidaReal","inicioOficial","termino","proximaDisponivel","erroFolga","erroGeral","toDateObj","str","NaN","day","month","year","formatDate","getDayStatus","empLetra","validarRegrasRigorosas","dataInicio","diasGozados","diasVenda","ok","msg","partes","admissao","adm","ciclo","some","cicloS","useEffect","userDate","check","isFolga","proxima","busca","sObj","tObj","rObj","modalTitle","modalSearchInput","modalSubText","closeBtn","header","headerTitle","form","keyboardShouldPersistTaps","comboButton","vendaRow","vendaTitle","vendaSub","label","keyboardType","maxLength","text","v","replace","slice","errorCard","errorText","suggestionText","marginTop","cardLab","cardVal","actions","handleSave","console","log","resultado","Alert","alert","abonoPecuniario","diasVendidos","disabled","textDecorationLine","marginVertical","maxHeight","SCALE_ANCHOR","EdicaoFeriasScreen","scheduleToEdit","onUpdate","handleUpdate","Object","assign","LETRAS","Funcionarios","onSave","onBack","showFormModal","setShowFormModal","showVacationModal","setShowVacationModal","isEditing","setIsEditing","setNome","matricula","setMatricula","setAdmissao","statusAtivo","setStatusAtivo","setLetra","resetForm","filteredEmployees","toString","backButton","backButtonText","title","searchBarContainer","searchInput","addButton","openAddModal","addButtonText","renderEmployee","empCard","rowAlign","badge","badgeText","empDetails","empActions","actionBtn","openEditModal","paddingBottom","ListEmptyComponent","emptyText","modalHeader","showsVerticalScrollIndicator","optionRow","l","optionBtn","optionBtnActive","optionText","optionTextActive","feristaBtn","feristaBtnActive","statusToggle","btnAtivo","btnInativo","modalFooter","payload","vac","vacationItem","vacationIndicator","vacDate","vacInfo","marginLeft","marginHorizontal","flexWrap","borderStyle","marginRight","DEFAULT_MONTHS","VisaoMensalScreen","currentYear","setCurrentYear","months","monthlySchedules","isArray","startDateObj","parseDateAnyFormat","startMonth","push","yearNav","handlePrevYear","prev","yearBtn","yearBtnText","currentYearText","handleNextYear","scrollContent","idx","monthSection","monthTitle","schCard","cardTitleSch","itemLine","itemName","itemDetail","borderLeftWidth","borderLeftColor","paddingLeft","shadowColor","shadowOpacity","shadowRadius","borderTopColor","minWidth","fontStyle","parseDateSafe","dateStr","cleanStr","extrairLetraFuncionario","funcionario","letraDireta","match","center","registerRootComponent","currentScreen","setCurrentScreen","setEmployees","setSchedules","setScheduleToEdit","loading","setLoading","fetchData","select","order","gerarEscalaFerista","agendamentos","listaFuncionarios","mapaFerista","ordenados","sort","a","b","da","data_inicio","db","feriasAlvo","index","dataInicioNova","funcAlvo","f","employee_id","letraDestino","feriasAnterior","dataFimAnterior","data_fim","funcAnterior","letraOrigem","dataCorrente","dataKey","descricao","tipoOrigem","ActivityIndicator","size","delete","in","ids","error","insert","record","_objectWithoutPropertiesLoose","_excluded","update","eq","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","exports","module","__webpack_modules__","call","deferred","O","result","chunkIds","fn","priority","notFulfilled","Infinity","fulfilled","j","keys","every","key","splice","r","n","getter","__esModule","definition","o","defineProperty","enumerable","get","g","globalThis","this","Function","window","obj","prop","prototype","hasOwnProperty","Symbol","toStringTag","installedChunks","chunkId","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","chunkLoadingGlobal","self","bind","__webpack_exports__"],"sourceRoot":""}